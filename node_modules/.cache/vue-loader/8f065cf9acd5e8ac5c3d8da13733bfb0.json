{"remainingRequest":"C:\\WebProjects\\Web-csp\\web-csp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\WebProjects\\Web-csp\\web-csp\\src\\components\\AdminPages\\AdminEditUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\WebProjects\\Web-csp\\web-csp\\src\\components\\AdminPages\\AdminEditUser.vue","mtime":1602113137608},{"path":"C:\\WebProjects\\Web-csp\\web-csp\\node_modules\\babel-loader\\lib\\index.js","mtime":1598308833927},{"path":"C:\\WebProjects\\Web-csp\\web-csp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598308836458},{"path":"C:\\WebProjects\\Web-csp\\web-csp\\node_modules\\vue-loader\\lib\\index.js","mtime":1598308880982}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnDQppbXBvcnQge21hcFN0YXRlLCBtYXBNdXRhdGlvbnN9IGZyb20gJ3Z1ZXgnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0FkbWluRWRpdFVzZXInLA0KDQogIGRhdGEoKXsNCiAgICByZXR1cm4gew0KICAgICAgdXNlclZhbDogew0KICAgICAgICBuYW1lOiBbDQogICAgICAgICAgJycsDQogICAgICAgICAgJycNCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgICBlcnJvcjogbnVsbCwNCiAgICAgIHRpcG86IHsNCiAgICAgICAgdGlwbzogJzAnDQogICAgICB9LA0KICAgICAgbWFzdGVyQXV0b3JpOiBmYWxzZSwNCiAgICAgIGFkbWluQXV0b3JpOiBmYWxzZSwNCiAgICB9DQogIH0sDQoNCiAgY29tcHV0ZWQ6ew0KICAgIC4uLm1hcFN0YXRlKFsndXNlcicsICdzdWNjZXNzVXBsb2FkJywgJ2Vycm9yVXBsb2FkJywgJ2FjdFVzZXInXSksDQogIH0sDQoNCiAgbWV0aG9kczp7DQogICAgLi4ubWFwTXV0YXRpb25zKFsnaXNVc2VyRGlmZicsICdzZXRSZWZVc2VyJywgJ3N1Y2Nlc3NBZHZpc2UnLCAnY2hhbmdlU2VjVGl0bGUnXSksDQogICAgdmFsaWRQaG9uZSh0YXJnZXQpew0KICAgICAgY29uc3QgZXhwID0gL1woP1wrWzAtOV17MSwzfVwpPyA/LT9bMC05XXsxLDN9ID8tP1swLTldezMsNX0gPy0/WzAtOV17NH0oID8tP1swLTldezN9KT8gPyhcd3sxLDEwfVxzP1xkezEsNn0pPy9nOw0KICAgICAgaWYoZXhwLnRlc3QodGFyZ2V0KSB8fCB0YXJnZXQgPT09ICcnKXsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH1lbHNlew0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KDQogIGNyZWF0ZWQoKXsNCiAgICB0aGlzLmNoYW5nZVNlY1RpdGxlKCdFZGl0YXIgUGVyZmlsJyk7DQogIH0sDQoNCiAgd2F0Y2g6ew0KICAgIHN1Y2Nlc3NVcGxvYWQoKXsNCiAgICAgIGlmKHRoaXMuc3VjY2Vzc1VwbG9hZCAhPT0gbnVsbCl7DQogICAgICAgIHRoaXMuJHJlZnMuYWxlcnRCb3guY2xhc3NMaXN0LmFkZCgnYWxlcnQtc2hvdycpDQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgIHRyeSB7DQogICAgICAgICAgdGhpcy4kcmVmcy5hbGVydEJveC5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC1zaG93Jyk7fWNhdGNoe30NCiAgICAgICAgfSwgMzAwMCk7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAwOiAnc3VjY2Vzc1VwbG9hZCcsDQogICAgICAgICAgICAxOiBudWxsDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuc3VjY2Vzc0FkdmlzZShkYXRhKQ0KICAgICAgICB9LCAzNjAwKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KDQogIG1vdW50ZWQoKXsNCiAgICBpZih0aGlzLnVzZXIuYXV0b3JpID09PSAnTWFzdGVyJyl7DQogICAgICB0aGlzLm1hc3RlckF1dG9yaSA9IHRydWU7DQogICAgfQ0KDQogICAgaWYodGhpcy51c2VyLmF1dG9yaSA9PT0gJ0FkbWluJyl7DQogICAgICB0aGlzLmFkbWluQXV0b3JpID0gdHJ1ZTsNCiAgICB9DQogIH0sDQp9DQo="},{"version":3,"sources":["AdminEditUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"AdminEditUser.vue","sourceRoot":"src/components/AdminPages","sourcesContent":["<template>\r\n  <div id=\"admin-edit\">\r\n    <div class=\"alert-box position-fixed\" ref=\"alertBox\">\r\n      <i :class=\"error?'icon-err flaticon-close':successUpload?'icon-succ flaticon-check': errorUpload?'icon-err flaticon-close':''\"></i> <p>{{error?error:successUpload?successUpload:errorUpload?errorUpload:''}}</p>\r\n    </div>\r\n      <form class=\"p-3\" @submit.prevent=\"isUserDiff(tipo)\">\r\n        <div class=\"v-admin-username w-100\">\r\n          <p class=\"title-text\">NOMBRE DE USUARIO</p>\r\n          <div class=\"v-admin-namevalues w-100\">\r\n            <input class=\"v-input-text\" id=\"name\" type=\"text\" v-model=\"user.nombre\" :placeholder=\"user.nombre?user.nombre:'Nombre'\"> \r\n            <input class=\"v-input-text\" id=\"last-name\" type=\"text\" v-model=\"user.apellido\" :placeholder=\"user.apellido?user.apellido:'Apellido'\">\r\n          </div>\r\n        </div>\r\n        <div class=\"v-admin-userrank d-flex flex-row align-items-center justify-content-center\">\r\n          <div class=\"d-flex w-100 flex-column justify-content-center align-items-center\" style=\"margin: 2px;\">\r\n            <p class=\"title-text\">CARGO</p>\r\n            <div class=\"v-admin-rankvalues w-100\">\r\n              <input class=\"v-input-text w-100\" type=\"text\" v-model=\"user.cargo\" :placeholder=\"user.cargo?user.cargo:'Cargo'\">\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex w-100 flex-column justify-content-center align-items-center\" style=\"margin: 2px;\">\r\n            <p class=\"title-text\">CORREO ELECTRÓNICO</p>\r\n            <div class=\"v-admin-emailvalues w-100\">\r\n              <input class=\"v-input-text w-100\" type=\"text\" v-model=\"user.correo\" :placeholder=\"user.correo?user.correo:'Correo'\" disabled>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"v-admin-nivelautori d-flex flex-row align-items-center justify-content-between\">\r\n          <div class=\"w-25\" style=\"margin: 2px;\">\r\n            <p class=\"title-text\">NIVEL DE AUTORIZACIÓN</p>\r\n            <div class=\"v-checked-container\">\r\n              <div class=\"v-checked-selector text position-relative\">\r\n                <div class=\"custom-control custom-switch\">\r\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"masterautori\" v-model=\"masterAutori\" disabled>\r\n                  <label class=\"custom-control-label text\" for=\"masterautori\">Nivel Master</label>\r\n                </div>\r\n                <div class=\"custom-control custom-switch\">\r\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"adminautori\" v-model=\"adminAutori\" disabled>\r\n                  <label class=\"custom-control-label text\" for=\"adminautori\">Nivel Admin</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"v-admin-accion w-25\">\r\n            <div class=\"d-flex w-50  flex-column justify-content-center align-items-center\" style=\"margin: 2px;\">\r\n              <p class=\"title-text\">ACCIÓN</p>\r\n              <div class=\"w-100\">\r\n                <input class=\"v-input-text w-100\" type=\"text\" v-model=\"user.accion\" :placeholder=\"user.accion?user.accion:'Acción'\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"v-admin-accion w-25\">\r\n            <div class=\"d-flex flex-column justify-content-center align-items-center\" style=\"margin: 2px;\">\r\n              <p class=\"title-text\">TELÉFONO</p>\r\n              <div class=\"w-100\">\r\n                <input :class=\"['v-input-text w-100', validPhone(user.telefono)?'':'error']\" v-model=\"user.telefono\" :placeholder=\"(user.telefono === '')?'Teléfono (Ej. +581234567)':user.telefono\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"submit-button d-flex justify-content-end align-items-center\">\r\n          <button class=\"btn btn-success mt-5\">\r\n            <div v-if=\"actUser === true\" class=\"spinner-border text-light\" role=\"status\">\r\n              <span class=\"sr-only\">Loading...</span>\r\n            </div>\r\n            <p v-else>\r\n              Salvar cambios\r\n            </p>\r\n          </button>\r\n        </div>\r\n      </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase'\r\nimport {mapState, mapMutations} from 'vuex'\r\n\r\nexport default {\r\n  name: 'AdminEditUser',\r\n\r\n  data(){\r\n    return {\r\n      userVal: {\r\n        name: [\r\n          '',\r\n          ''\r\n        ],\r\n      },\r\n      error: null,\r\n      tipo: {\r\n        tipo: '0'\r\n      },\r\n      masterAutori: false,\r\n      adminAutori: false,\r\n    }\r\n  },\r\n\r\n  computed:{\r\n    ...mapState(['user', 'successUpload', 'errorUpload', 'actUser']),\r\n  },\r\n\r\n  methods:{\r\n    ...mapMutations(['isUserDiff', 'setRefUser', 'successAdvise', 'changeSecTitle']),\r\n    validPhone(target){\r\n      const exp = /\\(?\\+[0-9]{1,3}\\)? ?-?[0-9]{1,3} ?-?[0-9]{3,5} ?-?[0-9]{4}( ?-?[0-9]{3})? ?(\\w{1,10}\\s?\\d{1,6})?/g;\r\n      if(exp.test(target) || target === ''){\r\n        return true\r\n      }else{\r\n        return false\r\n      }\r\n    },\r\n  },\r\n\r\n  created(){\r\n    this.changeSecTitle('Editar Perfil');\r\n  },\r\n\r\n  watch:{\r\n    successUpload(){\r\n      if(this.successUpload !== null){\r\n        this.$refs.alertBox.classList.add('alert-show')\r\n        setTimeout(() => {\r\n          try {\r\n          this.$refs.alertBox.classList.remove('alert-show');}catch{}\r\n        }, 3000);\r\n        setTimeout(() => {\r\n          const data = {\r\n            0: 'successUpload',\r\n            1: null\r\n          }\r\n          this.successAdvise(data)\r\n        }, 3600);\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted(){\r\n    if(this.user.autori === 'Master'){\r\n      this.masterAutori = true;\r\n    }\r\n\r\n    if(this.user.autori === 'Admin'){\r\n      this.adminAutori = true;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#admin-edit form{\r\n  margin: 10px 5px;\r\n  border: 1px solid rgb(240, 240, 240);\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 7px rgba(0,0,0,.5);\r\n}\r\n\r\n.title-text{\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  margin: 15px 0 0 0;\r\n  text-align: left;\r\n  width: 100%;\r\n}\r\n\r\n.v-input-text{\r\n  border: 0.5px solid rgba(54, 54, 54);\r\n  border-radius: 0.5em;\r\n  padding: 5px;\r\n  margin: 2px;\r\n}\r\n\r\n.v-input-text#name, .v-input-text#last-name{\r\n  width: calc(100%/2 - 2*2px);\r\n}\r\n\r\n.btn.btn-success p{\r\n  color: inherit;\r\n  font-weight: inherit;\r\n}\r\n\r\n</style>"]}]}
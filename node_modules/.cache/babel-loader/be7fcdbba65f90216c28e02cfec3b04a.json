{"remainingRequest":"C:\\WebProjects\\Web-csp\\web-csp\\node_modules\\thread-loader\\dist\\cjs.js!C:\\WebProjects\\Web-csp\\web-csp\\node_modules\\babel-loader\\lib\\index.js!C:\\WebProjects\\Web-csp\\web-csp\\src\\store\\index.js","dependencies":[{"path":"C:\\WebProjects\\Web-csp\\web-csp\\src\\store\\index.js","mtime":1601245747460},{"path":"C:\\WebProjects\\Web-csp\\web-csp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598308836458},{"path":"C:\\WebProjects\\Web-csp\\web-csp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1598308878902},{"path":"C:\\WebProjects\\Web-csp\\web-csp\\node_modules\\babel-loader\\lib\\index.js","mtime":1598308833927}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1dlYlByb2plY3RzL1dlYi1jc3Avd2ViLWNzcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBmaXJlYmFzZSwgeyBhdXRoIH0gZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgeyBkYXRhIH0gZnJvbSAnanF1ZXJ5JzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBzZWNUaXRsZTogJ0Rhc2hib2FyZCcsCiAgICBzdWNjZXNzVXBsb2FkOiBudWxsLAogICAgY2FyZ2FyREI6IGZhbHNlLAogICAgZXJyb3JVcGxvYWQ6IG51bGwsCiAgICBkZWxldGluZ1ZhbDogbnVsbCwKICAgIGxvYWRFZGl0OiBmYWxzZSwKICAgIGRlbGV0aW5nSW5kZXg6ICcnLAogICAgYWN0VXNlcjogbnVsbCwKICAgIGRiV2ViOiBbXSwKICAgIGRwUmVzcG9uc2l2ZTogZmFsc2UsCiAgICBoZWFkZXJWaWV3OiAwLAogICAgZm9ybXRpcG86IDAsCiAgICB1c2VyOiB7CiAgICAgIGFjdGl2bzogJycsCiAgICAgIGFwZWxsaWRvOiAnJywKICAgICAgYXV0b3JpOiAnJywKICAgICAgY2FyZ286ICcnLAogICAgICBjb3JyZW86ICcnLAogICAgICBjb3JyZW9WZXJpOiAnJywKICAgICAgZm90b1VybDogJycsCiAgICAgIGlkOiAnJywKICAgICAgbm9tYnJlOiAnJywKICAgICAgdGVsZWZvbm86ICcnLAogICAgICBhY2Npb246ICcnCiAgICB9LAogICAgcmVmVXNlcjoge30sCiAgICBjcmVhdGVDb250ZW50OiB7CiAgICAgIGZvcm1VcGxvYWQ6IHsKICAgICAgICB0aXR1bG86ICcnLAogICAgICAgIGluZm86ICcnLAogICAgICAgIHByZXY6ICcnLAogICAgICAgIGZlY2hhOiAnJywKICAgICAgICBpZDogJycsCiAgICAgICAgc2VjY2lvbjogJ1NlbGVjY2lvbmUgdW5hIG9wY2nDs24nLAogICAgICAgIGltYWdlczogW10sCiAgICAgICAgdGlwbzogZmFsc2UKICAgICAgfQogICAgfSwKICAgIGVkaXRDb250ZW50OiB7CiAgICAgIGZvcm1VcGxvYWQ6IHsKICAgICAgICB0aXR1bG86ICcnLAogICAgICAgIGluZm86ICcnLAogICAgICAgIHByZXY6ICcnLAogICAgICAgIGZlY2hhOiAnJywKICAgICAgICBpZDogJycsCiAgICAgICAgc2VjY2lvbjogJycsCiAgICAgICAgaW1hZ2VzOiBbXSwKICAgICAgICB0aXBvOiBmYWxzZSwKICAgICAgICB1cGxvYWRJbWFnZXM6IGZhbHNlLAogICAgICAgIHVwbG9hZERhdGFCYXNlOiBmYWxzZQogICAgICB9CiAgICB9LAogICAgdXNlcnM6IHsKICAgICAgdXNlclJlZmVyOiBmYWxzZSwKICAgICAgY3JlYXRlVXNlcjogewogICAgICAgIGZvcm1VcGxvYWQ6IHsKICAgICAgICAgIGFjdGl2bzogJycsCiAgICAgICAgICBhcGVsbGlkbzogJycsCiAgICAgICAgICBjYXJnbzogJycsCiAgICAgICAgICBjb3JyZW86ICcnLAogICAgICAgICAgY29ycmVvVmVyaTogJycsCiAgICAgICAgICBmb3RvVXJsOiAnJywKICAgICAgICAgIGlkOiAnJywKICAgICAgICAgIG5vbWJyZTogJycsCiAgICAgICAgICB0ZWxlZm9ubzogJycsCiAgICAgICAgICBjcmVhdGU6IGZhbHNlLAogICAgICAgICAgcGFzczogJycKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVDb250ZW50OiB7CiAgICAgIGZvcm1VcGxvYWQ6IHsKICAgICAgICBpZDogJycsCiAgICAgICAgdGlwbzogZmFsc2UKICAgICAgfQogICAgfSwKICAgIGRiSW1nOiBbXQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBkYXRhV2ViOiBmdW5jdGlvbiBkYXRhV2ViKHN0YXRlLCBiYXNlRGF0b3MpIHsKICAgICAgc3RhdGUuZGJXZWIgPSBiYXNlRGF0b3NbMF07CgogICAgICBpZiAoYmFzZURhdG9zWzFdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBiYXNlRGF0b3NbMV0gPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlU2VjVGl0bGU6IGZ1bmN0aW9uIGNoYW5nZVNlY1RpdGxlKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5zZWNUaXRsZSA9IHZhbHVlOwogICAgfSwKICAgIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUudXNlcnMudXNlclJlZmVyID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSB7CiAgICAgICAgYWN0aXZvOiB1c2VyLmFjdGl2bywKICAgICAgICBhcGVsbGlkbzogdXNlci5hcGVsbGlkbywKICAgICAgICBhdXRvcmk6IHVzZXIuYXV0b3JpLAogICAgICAgIGNhcmdvOiB1c2VyLmNhcmdvLAogICAgICAgIGNvcnJlbzogdXNlci5jb3JyZW8sCiAgICAgICAgY29ycmVvVmVyaTogdXNlci5jb3JyZW9WZXJpLAogICAgICAgIGZvdG9Vcmw6IHVzZXIuZm90b1VybCwKICAgICAgICBpZDogdXNlci5pZCwKICAgICAgICBub21icmU6IHVzZXIubm9tYnJlLAogICAgICAgIHRlbGVmb25vOiB1c2VyLnRlbGVmb25vLAogICAgICAgIGFjY2lvbjogdXNlci5hY2Npb24KICAgICAgfTsKICAgICAgc3RhdGUucmVmVXNlciA9IHsKICAgICAgICBhY3Rpdm86IHVzZXIuYWN0aXZvLAogICAgICAgIGFwZWxsaWRvOiB1c2VyLmFwZWxsaWRvLAogICAgICAgIGF1dG9yaTogdXNlci5hdXRvcmksCiAgICAgICAgY2FyZ286IHVzZXIuY2FyZ28sCiAgICAgICAgY29ycmVvOiB1c2VyLmNvcnJlbywKICAgICAgICBjb3JyZW9WZXJpOiB1c2VyLmNvcnJlb1ZlcmksCiAgICAgICAgZm90b1VybDogdXNlci5mb3RvVXJsLAogICAgICAgIGlkOiB1c2VyLmlkLAogICAgICAgIG5vbWJyZTogdXNlci5ub21icmUsCiAgICAgICAgdGVsZWZvbm86IHVzZXIudGVsZWZvbm8sCiAgICAgICAgYWNjaW9uOiB1c2VyLmFjY2lvbgogICAgICB9OwogICAgfSwKICAgIGRiVXNlclZhbDogZnVuY3Rpb24gZGJVc2VyVmFsKHN0YXRlLCB2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHZhbHVlc1JlZiA9IHsKICAgICAgICB1c2VyX2FjdGl2bzogdHJ1ZSwKICAgICAgICB1c2VyX2FwZWxsaWRvOiB2YWx1ZS5hcGVsbGlkbywKICAgICAgICB1c2VyX2F1dG9yaTogdmFsdWUuYXV0b3JpLAogICAgICAgIHVzZXJfY2FyZ286IHZhbHVlLmNhcmdvLAogICAgICAgIHVzZXJfY29ycmVvOiB2YWx1ZS5jb3JyZW8sCiAgICAgICAgdXNlcl9jb3JyZW9WZXJpOiB2YWx1ZS5jb3JyZW9WZXJpLAogICAgICAgIHVzZXJfZm90b1VybDogIiIuY29uY2F0KHZhbHVlLmZvdG9VcmwpLAogICAgICAgIHVzZXJfaWQ6IHZhbHVlLmlkLAogICAgICAgIHVzZXJfbm9tYnJlOiB2YWx1ZS5ub21icmUsCiAgICAgICAgdXNlcl90ZWxlZm9ubzogIiIuY29uY2F0KHZhbHVlLnRlbGVmb25vKSwKICAgICAgICB1c2VyX2FjY2lvbjogIiIuY29uY2F0KHZhbHVlLmFjY2lvbikKICAgICAgfTsKICAgICAgdmFyIGRiUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ1VzdWFyaW9zJyk7CiAgICAgIGRiUmVmLmNoaWxkKHZhbHVlc1JlZi51c2VyX2lkKS5zZXQodmFsdWVzUmVmKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5jb21taXQoJ3NldFVzZXInLCBPYmplY3QudmFsdWVzKHZhbHVlc1JlZikpOwogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVVc2VyOiBmdW5jdGlvbiBjcmVhdGVVc2VyKHN0YXRlLCB2YWx1ZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHN0YXRlLnVzZXJzLnVzZXJSZWZlciA9IHRydWU7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgYXBpS2V5OiAiQUl6YVN5Q3BzTlZ0c0FDQ2VTLWFtTnByR1VoMHZHT0UtU0Q5eTVRIiwKICAgICAgICBhdXRoRG9tYWluOiAid2ViLWRhdGFiYXNlLTY2ODQyLmZpcmViYXNlYXBwLmNvbSIsCiAgICAgICAgZGF0YWJhc2VVUkw6ICJodHRwczovL3dlYi1kYXRhYmFzZS02Njg0Mi5maXJlYmFzZWlvLmNvbSIKICAgICAgfTsKICAgICAgdmFyIHNlY29uZGFyeUFwcCA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnLCAiU2Vjb25kYXJ5Iik7CiAgICAgIHNlY29uZGFyeUFwcC5hdXRoKCkuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKHN0YXRlLnVzZXJzLmNyZWF0ZVVzZXIuZm9ybVVwbG9hZC5jb3JyZW8sIHN0YXRlLnVzZXJzLmNyZWF0ZVVzZXIuZm9ybVVwbG9hZC5wYXNzKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgdmFyIHZhbHVlc1JlZiA9IHsKICAgICAgICAgIGNvcnJlbzogdXNlci51c2VyLmVtYWlsLAogICAgICAgICAgY29ycmVvVmVyaTogdXNlci51c2VyLmVtYWlsVmVyaWZpZWQsCiAgICAgICAgICBub21icmU6IHVzZXIudXNlci5kaXNwbGF5TmFtZSwKICAgICAgICAgIGFwZWxsaWRvOiAnJywKICAgICAgICAgIGF1dG9yaTogJycsCiAgICAgICAgICBmb3RvVXJsOiAnJywKICAgICAgICAgIHRlbGVmb25vOiAnJywKICAgICAgICAgIGNhcmdvOiAnJywKICAgICAgICAgIGlkOiB1c2VyLnVzZXIudWlkLAogICAgICAgICAgYWN0aXZvOiAnJywKICAgICAgICAgIGFjY2lvbjogJycKICAgICAgICB9OwogICAgICAgIHNlY29uZGFyeUFwcC5hdXRoKCkuc2lnbk91dCgpOwogICAgICAgIHNlY29uZGFyeUFwcC5kZWxldGUoKTsKICAgICAgICB2YXIgc3VjY2VzcyA9IHsKICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgIDE6ICdTZSBoYSBjcmVhZG8gZXhpdG9zYW1lbnRlJwogICAgICAgIH07CgogICAgICAgIF90aGlzMi5jb21taXQoJ3N1Y2Nlc3NBZHZpc2UnLCBzdWNjZXNzKTsKCiAgICAgICAgdmFyIHZhbHVlc0RiID0gewogICAgICAgICAgdXNlcl9jb3JyZW86IHVzZXIudXNlci5lbWFpbCwKICAgICAgICAgIHVzZXJfY29ycmVvVmVyaTogdXNlci51c2VyLmVtYWlsVmVyaWZpZWQsCiAgICAgICAgICB1c2VyX25vbWJyZTogdXNlci51c2VyLmRpc3BsYXlOYW1lLAogICAgICAgICAgdXNlcl9hcGVsbGlkbzogJycsCiAgICAgICAgICB1c2VyX2F1dG9yaTogJycsCiAgICAgICAgICB1c2VyX2ZvdG9Vcmw6ICcnLAogICAgICAgICAgdXNlcl90ZWxlZm9ubzogJycsCiAgICAgICAgICB1c2VyX2NhcmdvOiAnJywKICAgICAgICAgIHVzZXJfaWQ6IHVzZXIudXNlci51aWQsCiAgICAgICAgICB1c2VyX2FjdGl2bzogJycsCiAgICAgICAgICB1c2VyX2FjY2lvbjogJycKICAgICAgICB9OwoKICAgICAgICBfdGhpczIuY29tbWl0KCdkYlVzZXJWYWwnLCB2YWx1ZXNSZWYpOwoKICAgICAgICBzdGF0ZS5kYldlYi5Vc3Vhcmlvc1siIi5jb25jYXQodmFsdWVzRGIuaWQpXSA9IHZhbHVlc0RiOwogICAgICAgIGNvbnNvbGUubG9nKE9iamVjdC52YWx1ZXMoc3RhdGUuZGJXZWIuVXN1YXJpb3MpKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHN0YXRlLnVzZXJzLnVzZXJSZWZlciA9IGZhbHNlOwogICAgICAgIHNlY29uZGFyeUFwcC5kZWxldGUoKTsKCiAgICAgICAgaWYgKGVyci5tZXNzYWdlID09PSAnVGhlIGVtYWlsIGFkZHJlc3MgaXMgYWxyZWFkeSBpbiB1c2UgYnkgYW5vdGhlciBhY2NvdW50LicpIHsKICAgICAgICAgIHZhciBzdWNjZXNzID0gewogICAgICAgICAgICAwOiAnZXJyb3JVcGxvYWQnLAogICAgICAgICAgICAxOiAnRWwgY29ycmVvIHlhIGVzdMOhIGVuIHVzbycKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMyLmNvbW1pdCgnc3VjY2Vzc0FkdmlzZScsIHN1Y2Nlc3MpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlVXNlcjogZnVuY3Rpb24gdXBkYXRlVXNlcihzdGF0ZSwgdmFsdWUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodmFsdWUudGlwbyA9PT0gJzEnKSB7CiAgICAgICAgdmFyIHZhbHVlc1JlZiA9IHsKICAgICAgICAgIHVzZXJfaWQ6IHZhbHVlLmlkLAogICAgICAgICAgdXNlcl9jb3JyZW86IHZhbHVlLmNvcnJlbywKICAgICAgICAgIHVzZXJfY29ycmVvVmVyaTogdmFsdWUuY29ycmVvVmVyaSwKICAgICAgICAgIHVzZXJfYWNjaW9uOiB2YWx1ZS5hY2Npb24sCiAgICAgICAgICB1c2VyX3RlbGVmb25vOiB2YWx1ZS50ZWxlZm9ubywKICAgICAgICAgIHVzZXJfbm9tYnJlOiB2YWx1ZS5ub21icmUsCiAgICAgICAgICB1c2VyX2FwZWxsaWRvOiB2YWx1ZS5hcGVsbGlkbywKICAgICAgICAgIHVzZXJfYWN0aXZvOiB2YWx1ZS5hY3Rpdm8sCiAgICAgICAgICB1c2VyX2ZvdG9Vcmw6IHZhbHVlLmZvdG9VcmwsCiAgICAgICAgICB1c2VyX2F1dG9yaTogdmFsdWUuYXV0b3JpLAogICAgICAgICAgdXNlcl9jYXJnbzogdmFsdWUuY2FyZ28KICAgICAgICB9OwogICAgICAgIHZhciBkYlJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdVc3VhcmlvcycpOwogICAgICAgIGRiUmVmLmNoaWxkKHZhbHVlc1JlZi51c2VyX2lkKS5zZXQodmFsdWVzUmVmKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEFxdWkgZGVibyBwb25lciBwYXJhIHF1aXRhciBlbCBjYXJnYWRvcgogICAgICAgICAgX3RoaXMzLmNvbW1pdCgnc2V0VXNlcicsIHZhbHVlKTsKCiAgICAgICAgICBzdGF0ZS5hY3RVc2VyID0gbnVsbDsKICAgICAgICAgIHZhciBzdWNjZXNzID0gewogICAgICAgICAgICAwOiAnc3VjY2Vzc1VwbG9hZCcsCiAgICAgICAgICAgIDE6ICdTZSBoYSBhY3R1YWxpemFkbyBleGl0b3NhbWVudGUnCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzMy5jb21taXQoJ3N1Y2Nlc3NBZHZpc2UnLCBzdWNjZXNzKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdXNlciA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjsKCiAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgIC8vIEFxdWkgZGVibyBwb25lciBlbCBhY3RpdmFkb3IgcGFyYSBlbCBjYXJnYWRvcgogICAgICAgICAgdXNlci51cGRhdGVQcm9maWxlKHsKICAgICAgICAgICAgZGlzcGxheU5hbWU6IHZhbHVlLm5vbWJyZSwKICAgICAgICAgICAgZW1haWw6IHZhbHVlLmNvcnJlbywKICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHZhbHVlLnRlbGVmb25vCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHZhbHVlc1JlZiA9IHsKICAgICAgICAgICAgICB1c2VyX2NvcnJlbzogdmFsdWUuY29ycmVvLAogICAgICAgICAgICAgIHVzZXJfY29ycmVvVmVyaTogdmFsdWUuY29ycmVvVmVyaSwKICAgICAgICAgICAgICB1c2VyX25vbWJyZTogdmFsdWUubm9tYnJlLAogICAgICAgICAgICAgIHVzZXJfYXBlbGxpZG86IHZhbHVlLmFwZWxsaWRvLAogICAgICAgICAgICAgIHVzZXJfYXV0b3JpOiB2YWx1ZS5hdXRvcmksCiAgICAgICAgICAgICAgdXNlcl9mb3RvVXJsOiB2YWx1ZS5mb3RvVXJsLAogICAgICAgICAgICAgIHVzZXJfdGVsZWZvbm86IHZhbHVlLnRlbGVmb25vLAogICAgICAgICAgICAgIHVzZXJfY2FyZ286IHZhbHVlLmNhcmdvLAogICAgICAgICAgICAgIHVzZXJfaWQ6IHZhbHVlLmlkLAogICAgICAgICAgICAgIHVzZXJfYWN0aXZvOiB2YWx1ZS5hY3Rpdm8sCiAgICAgICAgICAgICAgdXNlcl9hY2Npb246IHZhbHVlLmFjY2lvbgogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgZGJSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignVXN1YXJpb3MnKTsKICAgICAgICAgICAgZGJSZWYuY2hpbGQodmFsdWUuaWQpLnNldCh2YWx1ZXNSZWYpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIC8vIEFxdWkgZGVibyBwb25lciBwYXJhIHF1aXRhciBlbCBjYXJnYWRvcgogICAgICAgICAgICAgIF90aGlzMy5jb21taXQoJ3NldFVzZXInLCB2YWx1ZSk7CgogICAgICAgICAgICAgIHN0YXRlLmFjdFVzZXIgPSBudWxsOwogICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gewogICAgICAgICAgICAgICAgMDogJ3N1Y2Nlc3NVcGxvYWQnLAogICAgICAgICAgICAgICAgMTogJ1NlIGhhIGFjdHVhbGl6YWRvIGV4aXRvc2FtZW50ZScKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBfdGhpczMuY29tbWl0KCdzdWNjZXNzQWR2aXNlJywgc3VjY2Vzcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaXNVc2VyRGlmZjogZnVuY3Rpb24gaXNVc2VyRGlmZihzdGF0ZSwgdmFsdWUpIHsKICAgICAgaWYgKHZhbHVlLnRpcG8gPT09ICcwJykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgT2JqZWN0LnZhbHVlcyhzdGF0ZS51c2VyKS5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoc3RhdGUudXNlcilbaV0gIT09IE9iamVjdC52YWx1ZXMoc3RhdGUucmVmVXNlcilbaV0pIHsKICAgICAgICAgICAgc3RhdGUuYWN0VXNlciA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbW1pdCgndXBkYXRlVXNlcicsIHN0YXRlLnVzZXIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS5hY3RVc2VyID0gdHJ1ZTsKICAgICAgICB0aGlzLmNvbW1pdCgndXBkYXRlVXNlcicsIHZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oc3RhdGUsIHZhbHVlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgc3RhdGUuZGVsZXRpbmdWYWwgPSB0cnVlOwogICAgICBzdGF0ZS5kZWxldGluZ0luZGV4ID0gdmFsdWUuaW5kZXg7CgogICAgICBpZiAodmFsdWUuc3RvcmFnZSA9PT0gZmFsc2UpIHsKICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiIi5jb25jYXQodmFsdWUucmVmLCAiLyIpLmNvbmNhdCh2YWx1ZS5pZCkpLnJlbW92ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgc3RhdGUuZGVsZXRpbmdWYWwgPSBudWxsOwogICAgICAgICAgc3RhdGUuZGVsZXRpbmdJbmRleCA9ICcnOwogICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB7CiAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgMTogJ1NlIGhhIGVsaW1pbmFkbyBleGl0b3NhbWVudGUnCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzNC5jb21taXQoJ3N1Y2Nlc3NBZHZpc2UnLCBzdWNjZXNzKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZS5zdG9yYWdlID09PSB0cnVlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigiL2ltYWdlbmVzLyIuY29uY2F0KHZhbHVlLnJlZiwgIi8iKS5jb25jYXQodmFsdWUuaWQpKTsKICAgICAgICAgIHN0b3JhZ2VSZWYubGlzdEFsbCgpLnRoZW4oZnVuY3Rpb24gKHByb20pIHsKICAgICAgICAgICAgaWYgKHByb20uaXRlbXMubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAgICAgcHJvbS5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBzdG9yYWdlUmVmLmNoaWxkKGVsZW1lbnQubmFtZSkuZGVsZXRlKCkudGhlbihmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIiIuY29uY2F0KHZhbHVlLnJlZiwgIi8iKS5jb25jYXQodmFsdWUuaWQpKS5yZW1vdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmRlbGV0aW5nVmFsID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmRlbGV0aW5nSW5kZXggPSAnJzsKICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gewogICAgICAgICAgICAgICAgICAgICAgICAwOiAnc3VjY2Vzc1VwbG9hZCcsCiAgICAgICAgICAgICAgICAgICAgICAgIDE6ICdTZSBoYSBlbGltaW5hZG8gZXhpdG9zYW1lbnRlJwogICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuY29tbWl0KCdzdWNjZXNzQWR2aXNlJywgc3VjY2Vzcyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCIiLmNvbmNhdCh2YWx1ZS5yZWYsICIvIikuY29uY2F0KHZhbHVlLmlkKSkucmVtb3ZlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzdGF0ZS5kZWxldGluZ1ZhbCA9IG51bGw7CiAgICAgICAgICAgICAgICBzdGF0ZS5kZWxldGluZ0luZGV4ID0gJyc7CiAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHsKICAgICAgICAgICAgICAgICAgMDogJ3N1Y2Nlc3NVcGxvYWQnLAogICAgICAgICAgICAgICAgICAxOiAnU2UgaGEgZWxpbWluYWRvIGV4aXRvc2FtZW50ZScKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXM0LmNvbW1pdCgnc3VjY2Vzc0FkdmlzZScsIHN1Y2Nlc3MpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGVsZXRlZEVsOiBmdW5jdGlvbiBkZWxldGVkRWwoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZVswXSA9PT0gMCkgewogICAgICAgIHN0YXRlLmRlbGV0aW5nVmFsID0gdmFsdWVbMV07CiAgICAgIH0KCiAgICAgIGlmICh2YWx1ZVswXSA9PT0gMSkgewogICAgICAgIHN0YXRlLmRlbGV0aW5nSW5kZXggPSB2YWx1ZVsxXTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0Q29udGVudFZhbHVlczogZnVuY3Rpb24gcmVzZXRDb250ZW50VmFsdWVzKHN0YXRlLCB2YWwpIHsKICAgICAgaWYgKHZhbCA9PT0gMCkgewogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC50aXR1bG8gPSAnJzsKICAgICAgICBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaW5mbyA9ICcnOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5wcmV2ID0gJyc7CiAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlcyA9IFtdOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5mZWNoYSA9ICcnOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pZCA9ICcnOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5zZWNjaW9uID0gJ1NlbGVjY2lvbmUgdW5hIG9wY2nDs24nOwogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gMSkgewogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGl0dWxvID0gJyc7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbmZvID0gJyc7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5wcmV2ID0gJyc7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMgPSBbXTsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmZlY2hhID0gJyc7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pZCA9ICcnOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuc2VjY2lvbiA9ICdUb2RhcyBsYXMgc2VjY2lvbmVzJzsKICAgICAgfSBlbHNlIGlmICh2YWwgPT09IDMpIHsKICAgICAgICBzdGF0ZS51c2VycyA9IHsKICAgICAgICAgIHVzZXJSZWZlcjogZmFsc2UsCiAgICAgICAgICBjcmVhdGVVc2VyOiB7CiAgICAgICAgICAgIGZvcm1VcGxvYWQ6IHsKICAgICAgICAgICAgICBhY3Rpdm86ICcnLAogICAgICAgICAgICAgIGFwZWxsaWRvOiAnJywKICAgICAgICAgICAgICBjYXJnbzogJycsCiAgICAgICAgICAgICAgY29ycmVvOiAnJywKICAgICAgICAgICAgICBjb3JyZW9WZXJpOiAnJywKICAgICAgICAgICAgICBmb3RvVXJsOiAnJywKICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgbm9tYnJlOiAnJywKICAgICAgICAgICAgICB0ZWxlZm9ubzogJycsCiAgICAgICAgICAgICAgY3JlYXRlOiBmYWxzZSwKICAgICAgICAgICAgICBwYXNzOiAnJwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHN1Y2Nlc3NBZHZpc2U6IGZ1bmN0aW9uIHN1Y2Nlc3NBZHZpc2Uoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGVbIiIuY29uY2F0KGRhdGFbMF0pXSA9IGRhdGFbMV07CiAgICB9LAogICAgaGFuZGxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWQoc3RhdGUsIGZpbGVzKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHN0b3JhZ2VSZWYgPSBbXTsKICAgICAgdmFyIHBlcmNlbnRhZ2UgPSBbXTsKICAgICAgdmFyIG9yZGVyID0gW107CiAgICAgIHZhciB0YXNrID0ge307CiAgICAgIHZhciBpID0gMDsKICAgICAgdmFyIGogPSAwOwogICAgICB2YXIgbSA9IDA7CiAgICAgIHZhciBuID0gMDsKCiAgICAgIGlmIChzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9PT0gdHJ1ZSkgewogICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIHN0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCIvaW1hZ2VuZXMvbm90aWNpYXMvIi5jb25jYXQoc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmlkLCAiL2ZvdG8iKS5jb25jYXQoZWxlbWVudC5pZCkpOwogICAgICAgICAgdGFza1tpXSA9IHN0b3JhZ2VSZWYucHV0KGVsZW1lbnQpOwogICAgICAgICAgaSsrOwogICAgICAgIH0pOwoKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmlsZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICB0YXNrW19pXS5vbignc3RhdGVfY2hhbmdlZCcsIGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgICAgICBwZXJjZW50YWdlW3NuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWRdID0gc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMgKiAxMDA7CiAgICAgICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF0udXBsb2FkUGVyY2VudGFnZSA9IHBlcmNlbnRhZ2Vbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF07CiAgICAgICAgICAgIG0rKzsKCiAgICAgICAgICAgIGlmIChzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzW3NuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWRdLnVwbG9hZFBlcmNlbnRhZ2UgPT09IDEwMCAmJiBvcmRlci5sZW5ndGggPCBmaWxlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICBvcmRlci5wdXNoKHNuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBkYXRhUmVmID0gewogICAgICAgICAgICAgIG5vdGlfdGl0dWxvOiBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQudGl0dWxvLAogICAgICAgICAgICAgIG5vdGlfaW5mbzogc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmluZm8sCiAgICAgICAgICAgICAgbm90aV9mZWNoYTogc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmZlY2hhLAogICAgICAgICAgICAgIG5vdGlfaWQ6IHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pZCwKICAgICAgICAgICAgICBub3RpX3ByZXY6IHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5wcmV2LAogICAgICAgICAgICAgIG5vdGlfcHVibGljYXI6IHRydWUsCiAgICAgICAgICAgICAgbm90aV9zZWNjaW9uOiBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuc2VjY2lvbiwKICAgICAgICAgICAgICBub3RpX2ltYWdlbmVzOiBbXQogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgc3RvcmFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoIi9pbWFnZW5lcy9ub3RpY2lhcy8iLmNvbmNhdChzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaWQsICIvZm90byIpLmNvbmNhdChvcmRlcltqXSkpOwogICAgICAgICAgICBzdG9yYWdlUmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgICAgdmFyIHZhbCA9IG9yZGVyW25dOwogICAgICAgICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbdmFsXS51cmwgPSB1cmw7CiAgICAgICAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlc1t2YWxdLm5hbWUgPSAiZm90byIuY29uY2F0KHZhbCk7CiAgICAgICAgICAgICAgbisrOwoKICAgICAgICAgICAgICBpZiAobiA+PSBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgbiA9IDA7CiAgICAgICAgICAgICAgICBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgZGF0YVJlZi5ub3RpX2ltYWdlbmVzLnB1c2goe30pOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLm5vdGlfaW1hZ2VuZXNbbl0ubm9tYnJlID0gc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlc1tuXS5uYW1lOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLm5vdGlfaW1hZ2VuZXNbbl0udXJsID0gc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlc1tuXS51cmw7CiAgICAgICAgICAgICAgICAgIG4rKzsKCiAgICAgICAgICAgICAgICAgIGlmIChuID49IHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRiUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ05vdGljaWFzJyk7CiAgICAgICAgICAgICAgICAgICAgZGJSZWYuY2hpbGQoc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmlkKS5zZXQoZGF0YVJlZik7CiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLnRpcG8gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHsKICAgICAgICAgICAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgICAgICAgICAgIDE6ICdTZSBoYSBjcmVhZG8gZXhpdG9zYW1lbnRlJwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzNS5jb21taXQoJ3N1Y2Nlc3NBZHZpc2UnLCBzdWNjZXNzKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaisrOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9PT0gdHJ1ZSkgewogICAgICAgIGlmIChzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnVwbG9hZEltYWdlcyA9PT0gdHJ1ZSkgewogICAgICAgICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigiL2ltYWdlbmVzL25vdGljaWFzLyIuY29uY2F0KHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQsICIvZm90byIpLmNvbmNhdChlbGVtZW50LmlkKSk7CiAgICAgICAgICAgIHRhc2tbaV0gPSBzdG9yYWdlUmVmLnB1dChlbGVtZW50KTsKICAgICAgICAgICAgaSsrOwogICAgICAgICAgfSk7CgogICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgZmlsZXMubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICB0YXNrW19pMl0ub24oJ3N0YXRlX2NoYW5nZWQnLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICAgICAgICBwZXJjZW50YWdlW3NuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWRdID0gc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMgKiAxMDA7CiAgICAgICAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF0udXBsb2FkUGVyY2VudGFnZSA9IHBlcmNlbnRhZ2Vbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF07CiAgICAgICAgICAgICAgOwogICAgICAgICAgICAgIG0rKzsKCiAgICAgICAgICAgICAgaWYgKHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzW3NuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWRdLnVwbG9hZFBlcmNlbnRhZ2UgPT09IDEwMCAmJiBvcmRlci5sZW5ndGggPCBmaWxlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIG9yZGVyLnB1c2goc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBkYXRhUmVmID0gewogICAgICAgICAgICAgICAgbm90aV90aXR1bG86IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGl0dWxvLAogICAgICAgICAgICAgICAgbm90aV9pbmZvOiBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmluZm8sCiAgICAgICAgICAgICAgICBub3RpX2ZlY2hhOiBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmZlY2hhLAogICAgICAgICAgICAgICAgbm90aV9pZDogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pZCwKICAgICAgICAgICAgICAgIG5vdGlfcHJldjogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5wcmV2LAogICAgICAgICAgICAgICAgbm90aV9wdWJsaWNhcjogdHJ1ZSwKICAgICAgICAgICAgICAgIG5vdGlfc2VjY2lvbjogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5zZWNjaW9uLAogICAgICAgICAgICAgICAgbm90aV9pbWFnZW5lczogW10KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHZhciBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigiL2ltYWdlbmVzL25vdGljaWFzLyIuY29uY2F0KHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQsICIvZm90byIpLmNvbmNhdChvcmRlcltqXSkpOwogICAgICAgICAgICAgIHN0b3JhZ2VSZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgICAgIHZhciB2YWwgPSBvcmRlcltuXTsKICAgICAgICAgICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzW3ZhbF0udXJsID0gdXJsOwogICAgICAgICAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbdmFsXS5uYW1lID0gImZvdG8iLmNvbmNhdCh2YWwpOwogICAgICAgICAgICAgICAgbisrOwoKICAgICAgICAgICAgICAgIGlmIChuID49IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBuID0gMDsKICAgICAgICAgICAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgIGRhdGFSZWYubm90aV9pbWFnZW5lcy5wdXNoKHt9KTsKICAgICAgICAgICAgICAgICAgICBkYXRhUmVmLm5vdGlfaW1hZ2VuZXNbbl0ubm9tYnJlID0gc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbbl0ubmFtZTsKICAgICAgICAgICAgICAgICAgICBkYXRhUmVmLm5vdGlfaW1hZ2VuZXNbbl0udXJsID0gc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbbl0udXJsOwogICAgICAgICAgICAgICAgICAgIG4rKzsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG4gPj0gc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGJSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignTm90aWNpYXMnKTsKICAgICAgICAgICAgICAgICAgICAgIGRiUmVmLmNoaWxkKHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQpLnNldChkYXRhUmVmKTsKICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgICAgICAgICAgICAgMTogJ1NlIGhhIGFjdHVhbGl6YWRvIGV4aXRvc2FtZW50ZScKICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1pdCgnc3VjY2Vzc0FkdmlzZScsIHN1Y2Nlc3MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaisrOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGRhdGFSZWYgPSB7CiAgICAgICAgICAgIG5vdGlfdGl0dWxvOiBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnRpdHVsbywKICAgICAgICAgICAgbm90aV9pbmZvOiBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmluZm8sCiAgICAgICAgICAgIG5vdGlfZmVjaGE6IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuZmVjaGEsCiAgICAgICAgICAgIG5vdGlfaWQ6IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQsCiAgICAgICAgICAgIG5vdGlfcHJldjogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5wcmV2LAogICAgICAgICAgICBub3RpX3B1YmxpY2FyOiB0cnVlLAogICAgICAgICAgICBub3RpX3NlY2Npb246IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuc2VjY2lvbiwKICAgICAgICAgICAgbm90aV9pbWFnZW5lczogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMKICAgICAgICAgIH07CiAgICAgICAgICB2YXIgZGJSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignTm90aWNpYXMnKTsKICAgICAgICAgIGRiUmVmLmNoaWxkKHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQpLnNldChkYXRhUmVmKTsKICAgICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9IGZhbHNlOwogICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB7CiAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgMTogJ1NlIGhhIGFjdHVhbGl6YWRvIGV4aXRvc2FtZW50ZScKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmNvbW1pdCgnc3VjY2Vzc0FkdmlzZScsIHN1Y2Nlc3MpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChzdGF0ZS5kZWxldGVDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9PT0gdHJ1ZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgX3N0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCIvaW1hZ2VuZXMvbm90aWNpYXMvIi5jb25jYXQoc3RhdGUuZGVsZXRlQ29udGVudC5mb3JtVXBsb2FkLmlkKSk7CgogICAgICAgICAgX3N0b3JhZ2VSZWYubGlzdEFsbCgpLnRoZW4oZnVuY3Rpb24gKHByb20pIHsKICAgICAgICAgICAgcHJvbS5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgX3N0b3JhZ2VSZWYuY2hpbGQoZWxlbWVudC5uYW1lKS5kZWxldGUoKS50aGVuKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIk5vdGljaWFzLyIuY29uY2F0KHN0YXRlLmRlbGV0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pZCkpLnJlbW92ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHN0YXRlLmRlbGV0aW5nVmFsID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZGVsZXRlQ29udGVudC5mb3JtVXBsb2FkLnRpcG8gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHsKICAgICAgICAgICAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgICAgICAgICAgIDE6ICdTZSBoYSBlbGltaW5hZG8gZXhpdG9zYW1lbnRlJwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzNS5jb21taXQoJ3N1Y2Nlc3NBZHZpc2UnLCBzdWNjZXNzKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZpbGVzVXBsb2FkOiBmdW5jdGlvbiBmaWxlc1VwbG9hZChzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5mb3JtdGlwbyA9IGRhdGFbMl07CgogICAgICBpZiAoc3RhdGUuZm9ybXRpcG8gPT09IDApIHsKICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgdmFyIG1pbGlTZWMgPSBEYXRlLnBhcnNlKGQpOwogICAgICAgIHZhciBkU3RyaW5nID0gZC50b1N0cmluZygpOwogICAgICAgIHZhciBzcGxpdHRlZERhdGUgPSBkU3RyaW5nLnNwbGl0KCcgJyk7CiAgICAgICAgdmFyIGpvaW5lZERhdGUgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCA1OyBpKyspIHsKICAgICAgICAgIGpvaW5lZERhdGUucHVzaChzcGxpdHRlZERhdGVbaV0pOwogICAgICAgIH0KCiAgICAgICAgdmFyIGpvaW5lZCA9IGpvaW5lZERhdGUuam9pbignfCcpOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC50aXBvID0gdHJ1ZTsKICAgICAgICBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuZmVjaGEgPSBqb2luZWQ7CiAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlcyA9IGRhdGFbMF07CiAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmlkID0gbWlsaVNlYzsKICAgICAgICB0aGlzLmNvbW1pdCgnaGFuZGxlVXBsb2FkJywgZGF0YVsxXSk7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuZm9ybXRpcG8gPT09IDEpIHsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnRpcG8gPSB0cnVlOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuZmVjaGEgPSBkYXRhWzBdLmZlY2hhOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzID0gZGF0YVswXS5pbWFnZW5lczsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmlkID0gZGF0YVswXS5pZDsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnRpdHVsbyA9IGRhdGFbMF0udGl0dWxvOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW5mbyA9IGRhdGFbMF0uaW5mbzsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnByZXYgPSBkYXRhWzBdLnByZXY7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5zZWNjaW9uID0gZGF0YVswXS5zZWNjaW9uOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudXBsb2FkSW1hZ2VzID0gZGF0YVszXTsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnVwbG9hZERhdGFCYXNlID0gZGF0YVs0XTsKICAgICAgICB0aGlzLmNvbW1pdCgnaGFuZGxlVXBsb2FkJywgZGF0YVsxXSk7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuZm9ybXRpcG8gPT09IDIpIHsKICAgICAgICBzdGF0ZS5kZWxldGVDb250ZW50LmZvcm1VcGxvYWQuaWQgPSBkYXRhWzBdOwogICAgICAgIHN0YXRlLmRlbGV0ZUNvbnRlbnQuZm9ybVVwbG9hZC50aXBvID0gdHJ1ZTsKICAgICAgICBzdGF0ZS5kZWxldGluZ1ZhbCA9IHRydWU7CiAgICAgICAgc3RhdGUuZGVsZXRpbmdJbmRleCA9IGRhdGFbM107CiAgICAgICAgdGhpcy5jb21taXQoJ2hhbmRsZVVwbG9hZCcsIGRhdGFbMV0pOwogICAgICB9CiAgICB9LAogICAgY3JlYXJEQjogZnVuY3Rpb24gY3JlYXJEQihzdGF0ZSwgZGF0YSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmIChkYXRhLnRhcmdldCA9PT0gJ0p1bnRhcycpIHsKICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICAgIHN0YXRlLmRiSW1nW19pM10gPSBbXTsKICAgICAgICAgIHN0YXRlLmRiSW1nW19pM10gPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pM10uaW1hZ2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgc3RvcmFnZVJlZiA9IFtdOwogICAgICAgIHZhciBwZXJjZW50YWdlID0gW107CiAgICAgICAgdmFyIG9yZGVyID0gW107CiAgICAgICAgdmFyIHRhc2sgPSB7fTsKICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgdmFyIGogPSAwOwogICAgICAgIHZhciBuID0gMDsKICAgICAgICBPYmplY3QudmFsdWVzKGRhdGEuYXJjaGl2b3MpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIHN0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCIvaW1hZ2VuZXMvIi5jb25jYXQoZGF0YS50YXJnZXQsICIvIikuY29uY2F0KGRhdGEuanVudGEuaW5pY2lvLCAiLyIpLmNvbmNhdChkYXRhLmp1bnRhLmludGVncmFudGVzWyIiLmNvbmNhdChlbGVtZW50LmlkKV0uY2FyZ28uc3BsaXQoJyAnKS5qb2luKCdfJykpKTsKICAgICAgICAgIHRhc2tbIiIuY29uY2F0KGVsZW1lbnQuaWQpXSA9IHN0b3JhZ2VSZWYucHV0KGVsZW1lbnQpOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyh0YXNrKS5sZW5ndGggIT09IDApIHsKICAgICAgICAgIE9iamVjdC52YWx1ZXMoZGF0YS5hcmNoaXZvcykuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICB0YXNrWyIiLmNvbmNhdChlbGVtZW50LmlkKV0ub24oJ3N0YXRlX2NoYW5nZWQnLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICAgICAgICBwZXJjZW50YWdlW3NuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWRdID0gc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMgKiAxMDA7CiAgICAgICAgICAgICAgc3RhdGUuZGJJbWdbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF0udXBsb2FkUGVyY2VudGFnZSA9IHBlcmNlbnRhZ2Vbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF07CgogICAgICAgICAgICAgIGlmIChzdGF0ZS5kYkltZ1tzbmFwc2hvdC50YXNrLmJsb2JfLmRhdGFfLmlkXS51cGxvYWRQZXJjZW50YWdlID09PSAxMDAgJiYgb3JkZXIubGVuZ3RoIDwgT2JqZWN0LnZhbHVlcyhkYXRhLmFyY2hpdm9zKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIG9yZGVyLnB1c2goc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBkYXRhUmVmID0gW107CiAgICAgICAgICAgICAgZGF0YVJlZi5qdW50X3BlcmlvZG8gPSAiIi5jb25jYXQoZGF0YS5qdW50YS5pbmljaW8sICJfIikuY29uY2F0KGRhdGEuanVudGEuZmluKTsKICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaWQgPSAiIi5jb25jYXQoZGF0YS5qdW50YS5pbmljaW8pOwogICAgICAgICAgICAgIGRhdGFSZWYuanVudF9hY3RpdmEgPSBkYXRhLmp1bnRhLmp1bnRhX2FjdHVhbDsKICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXMgPSBbXTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgT2JqZWN0LnZhbHVlcyhkYXRhLmp1bnRhLmludGVncmFudGVzKS5sZW5ndGg7IF9pNCsrKSB7CiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyhkYXRhLmp1bnRhLmludGVncmFudGVzKVtfaTRdLmNhcmdvLnNwbGl0KCcgJykubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k0XSA9IFtdOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k0XS5qdWluX2NhcmdvID0gT2JqZWN0LnZhbHVlcyhkYXRhLmp1bnRhLmludGVncmFudGVzKVtfaTRdLmNhcmdvOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k0XS5qdWluX25vbWJyZSA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k0XS5ub21icmU7CiAgICAgICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTRdLmp1aW5fYXBlbGxpZG8gPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNF0uYXBlbGxpZG87CiAgICAgICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTRdLmp1aW5fY29ycmVvID0gT2JqZWN0LnZhbHVlcyhkYXRhLmp1bnRhLmludGVncmFudGVzKVtfaTRdLmNvcnJlbzsKICAgICAgICAgICAgICAgICAgZGF0YVJlZi5qdW50X2ludGVncmFudGVzW19pNF0uanVpbl9mb3RvID0gT2JqZWN0LnZhbHVlcyhkYXRhLmp1bnRhLmludGVncmFudGVzKVtfaTRdLmltYWdlOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k0XS5qdWluX2FjdGl2byA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k0XS5hY3Rpdm87CiAgICAgICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTRdLmp1aW5fY3JlYXIgPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNF0uY3JlYXI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k0XSA9IFtdOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k0XS5qdWluX2NhcmdvID0gT2JqZWN0LnZhbHVlcyhkYXRhLmp1bnRhLmludGVncmFudGVzKVtfaTRdLmNhcmdvOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k0XS5qdWluX25vbWJyZSA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k0XS5ub21icmU7CiAgICAgICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTRdLmp1aW5fYXBlbGxpZG8gPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNF0uYXBlbGxpZG87CiAgICAgICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTRdLmp1aW5fY29ycmVvID0gT2JqZWN0LnZhbHVlcyhkYXRhLmp1bnRhLmludGVncmFudGVzKVtfaTRdLmNvcnJlbzsKICAgICAgICAgICAgICAgICAgZGF0YVJlZi5qdW50X2ludGVncmFudGVzW19pNF0uanVpbl9mb3RvID0gT2JqZWN0LnZhbHVlcyhkYXRhLmp1bnRhLmludGVncmFudGVzKVtfaTRdLmltYWdlOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k0XS5qdWluX2FjdGl2byA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k0XS5hY3Rpdm87CiAgICAgICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTRdLmp1aW5fY3JlYXIgPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNF0uY3JlYXI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB2YXIgc3RvcmFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoIi9pbWFnZW5lcy8iLmNvbmNhdChkYXRhLnRhcmdldCwgIi8iKS5jb25jYXQoZGF0YS5qdW50YS5pbmljaW8sICIvIikuY29uY2F0KGRhdGEuanVudGEuaW50ZWdyYW50ZXNbIiIuY29uY2F0KG9yZGVyW2pdKV0uY2FyZ28uc3BsaXQoJyAnKS5qb2luKCdfJykpKTsKICAgICAgICAgICAgICBzdG9yYWdlUmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgICAgICB2YXIgdmFsID0gb3JkZXJbbl07CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuKTsKICAgICAgICAgICAgICAgIHN0YXRlLmRiSW1nW3ZhbF0udXJsID0gdXJsOwogICAgICAgICAgICAgICAgc3RhdGUuZGJJbWdbdmFsXS5ub21icmUgPSAiZm90byIuY29uY2F0KHZhbCk7CiAgICAgICAgICAgICAgICBuKys7CgogICAgICAgICAgICAgICAgaWYgKG4gPj0gb3JkZXIubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIGkgPSAwOwogICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlcykuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5kYkltZ1tpXS5ub21icmUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZS5kYkltZ1tpXS51cmwgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5qdWluX2ZvdG8ubm9tYnJlID0gc3RhdGUuZGJJbWdbaV0ubm9tYnJlOwogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5qdWluX2ZvdG8udXJsID0gc3RhdGUuZGJJbWdbaV0udXJsOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lmp1aW5fZm90byA9ICIiOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaSsrOwoKICAgICAgICAgICAgICAgICAgICBpZiAobiA+PSBPYmplY3QudmFsdWVzKGRhdGEuYXJjaGl2b3MpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGRiUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIiIuY29uY2F0KGRhdGEudGFyZ2V0KSk7CiAgICAgICAgICAgICAgICAgICAgICBkYlJlZi5jaGlsZCgiIi5jb25jYXQoZGF0YS5qdW50YS5pbmljaW8pKS5zZXQoZGF0YVJlZik7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgMDogJ3N1Y2Nlc3NVcGxvYWQnLAogICAgICAgICAgICAgICAgICAgICAgICAxOiAnU2UgaGEgY3JlYWRvIGV4aXRvc2FtZW50ZScKICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmNvbW1pdCgnc3VjY2Vzc0FkdmlzZScsIHN1Y2Nlc3MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaisrOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZGF0YVJlZiA9IFtdOwogICAgICAgICAgZGF0YVJlZi5qdW50X3BlcmlvZG8gPSAiIi5jb25jYXQoZGF0YS5qdW50YS5pbmljaW8sICItIikuY29uY2F0KGRhdGEuanVudGEuZmluKTsKICAgICAgICAgIGRhdGFSZWYuanVudF9pZCA9ICIiLmNvbmNhdChkYXRhLmp1bnRhLmluaWNpbyk7CiAgICAgICAgICBkYXRhUmVmLmp1bnRfYWN0aXZhID0gZGF0YS5qdW50YS5qdW50YV9hY3R1YWw7CiAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXMgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpLmxlbmd0aDsgX2k1KyspIHsKICAgICAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k1XS5jYXJnby5zcGxpdCgnICcpLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k1XSA9IFtdOwogICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTVdLmp1aW5fY2FyZ28gPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNV0uY2FyZ287CiAgICAgICAgICAgICAgZGF0YVJlZi5qdW50X2ludGVncmFudGVzW19pNV0uanVpbl9ub21icmUgPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNV0ubm9tYnJlOwogICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTVdLmp1aW5fYXBlbGxpZG8gPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNV0uYXBlbGxpZG87CiAgICAgICAgICAgICAgZGF0YVJlZi5qdW50X2ludGVncmFudGVzW19pNV0uanVpbl9jb3JyZW8gPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNV0uY29ycmVvOwogICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTVdLmp1aW5fZm90byA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k1XS5pbWFnZTsKICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k1XS5qdWluX2FjdGl2byA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k1XS5hY3Rpdm87CiAgICAgICAgICAgICAgZGF0YVJlZi5qdW50X2ludGVncmFudGVzW19pNV0uanVpbl9jcmVhciA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k1XS5jcmVhcjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k1XSA9IFtdOwogICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTVdLmp1aW5fY2FyZ28gPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNV0uY2FyZ287CiAgICAgICAgICAgICAgZGF0YVJlZi5qdW50X2ludGVncmFudGVzW19pNV0uanVpbl9ub21icmUgPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNV0ubm9tYnJlOwogICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTVdLmp1aW5fYXBlbGxpZG8gPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNV0uYXBlbGxpZG87CiAgICAgICAgICAgICAgZGF0YVJlZi5qdW50X2ludGVncmFudGVzW19pNV0uanVpbl9jb3JyZW8gPSBPYmplY3QudmFsdWVzKGRhdGEuanVudGEuaW50ZWdyYW50ZXMpW19pNV0uY29ycmVvOwogICAgICAgICAgICAgIGRhdGFSZWYuanVudF9pbnRlZ3JhbnRlc1tfaTVdLmp1aW5fZm90byA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k1XS5pbWFnZTsKICAgICAgICAgICAgICBkYXRhUmVmLmp1bnRfaW50ZWdyYW50ZXNbX2k1XS5qdWluX2FjdGl2byA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k1XS5hY3Rpdm87CiAgICAgICAgICAgICAgZGF0YVJlZi5qdW50X2ludGVncmFudGVzW19pNV0uanVpbl9jcmVhciA9IE9iamVjdC52YWx1ZXMoZGF0YS5qdW50YS5pbnRlZ3JhbnRlcylbX2k1XS5jcmVhcjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHZhciBkYlJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCIiLmNvbmNhdChkYXRhLnRhcmdldCkpOwogICAgICAgICAgZGJSZWYuY2hpbGQoIiIuY29uY2F0KGRhdGEuanVudGEuaW5pY2lvKSkuc2V0KGRhdGFSZWYpOwogICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB7CiAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgMTogJ1NlIGhhIGNyZWFkbyBleGl0b3NhbWVudGUnCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5jb21taXQoJ3N1Y2Nlc3NBZHZpc2UnLCBzdWNjZXNzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVEQjogZnVuY3Rpb24gZGVsZXRlREIoc3RhdGUsIGRhdGEpIHt9LAogICAgcmVzZXREQlZhbHVlczogZnVuY3Rpb24gcmVzZXREQlZhbHVlcyhzdGF0ZSwgdmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgICBzdGF0ZS5kYkltZyA9IFtdOwogICAgICB9IGVsc2UgaWYgKHN0YXRlLmRiSW1nWyIiLmNvbmNhdCh2YWx1ZSldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBzdGF0ZS5kYkltZ1siIi5jb25jYXQodmFsdWUpXSA9IFtdOwogICAgICB9CiAgICB9LAogICAgZmFsc2VDYXJnYXJEQjogZnVuY3Rpb24gZmFsc2VDYXJnYXJEQihzdGF0ZSkgewogICAgICBzdGF0ZS5jYXJnYXJEQiA9IGZhbHNlOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgdmFsKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdHJ5QWdhaW4sIF9kYXRhLCBkYldlYiwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgdHJ5QWdhaW4gPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBpZiAoIXRyeUFnYWluKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly93ZWItZGF0YWJhc2UtNjY4NDIuZmlyZWJhc2Vpby5jb20vLmpzb24iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2RhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2RhdGEuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBkYldlYiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHsKICAgICAgICAgICAgICAgICAgMDogZGJXZWIsCiAgICAgICAgICAgICAgICAgIDE6IHZhbAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRyeUFnYWluID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb21taXQoJ2RhdGFXZWInLCB2YWx1ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt9LCAyMDAwKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzMsIDE1XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXREYXRhKF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX2dldERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldERhdGE7CiAgICB9KCkKICB9LAogIG1vZHVsZXM6IHt9LAogIGdldHRlcnM6IHsKICAgIHVzZXJVcGRhdGU6IGZ1bmN0aW9uIHVzZXJVcGRhdGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["C:/WebProjects/Web-csp/web-csp/src/store/index.js"],"names":["Vue","Vuex","firebase","auth","data","use","Store","state","secTitle","successUpload","cargarDB","errorUpload","deletingVal","loadEdit","deletingIndex","actUser","dbWeb","dpResponsive","headerView","formtipo","user","activo","apellido","autori","cargo","correo","correoVeri","fotoUrl","id","nombre","telefono","accion","refUser","createContent","formUpload","titulo","info","prev","fecha","seccion","images","tipo","editContent","uploadImages","uploadDataBase","users","userRefer","createUser","create","pass","deleteContent","dbImg","mutations","dataWeb","baseDatos","undefined","changeSecTitle","value","setUser","dbUserVal","valuesRef","user_activo","user_apellido","user_autori","user_cargo","user_correo","user_correoVeri","user_fotoUrl","user_id","user_nombre","user_telefono","user_accion","dbRef","database","ref","child","set","then","commit","Object","values","config","apiKey","authDomain","databaseURL","secondaryApp","initializeApp","createUserWithEmailAndPassword","email","emailVerified","displayName","uid","signOut","delete","success","valuesDb","Usuarios","console","log","catch","err","message","updateUser","currentUser","updateProfile","phoneNumber","isUserDiff","i","length","deleteItem","index","storage","remove","storageRef","listAll","prom","items","forEach","element","name","deletedEl","resetContentValues","val","successAdvise","handleUpload","files","percentage","order","task","j","m","n","put","on","snapshot","blob_","data_","bytesTransferred","totalBytes","uploadPercentage","push","error","dataRef","noti_titulo","noti_info","noti_fecha","noti_id","noti_prev","noti_publicar","noti_seccion","noti_imagenes","getDownloadURL","url","filesUpload","d","Date","miliSec","parse","dString","toString","splittedDate","split","joinedDate","joined","join","imagenes","crearDB","target","junta","integrantes","image","archivos","inicio","junt_periodo","fin","junt_id","junt_activa","junta_actual","junt_integrantes","juin_cargo","juin_nombre","juin_apellido","juin_correo","juin_foto","juin_activo","juin_crear","crear","deleteDB","resetDBValues","falseCargarDB","actions","getData","tryAgain","fetch","json","setTimeout","modules","getters","userUpdate"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport firebase, { auth } from 'firebase'\r\nimport { data } from 'jquery'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    secTitle: 'Dashboard',\r\n    successUpload: null,\r\n    cargarDB: false,\r\n    errorUpload: null,\r\n    deletingVal: null,\r\n    loadEdit: false,\r\n    deletingIndex: '',\r\n    actUser: null,\r\n    dbWeb:[],\r\n    dpResponsive: false,\r\n    headerView: 0,\r\n    formtipo: 0,\r\n    user: {\r\n      activo: '',\r\n      apellido: '',\r\n      autori: '',\r\n      cargo: '',\r\n      correo: '',\r\n      correoVeri: '',\r\n      fotoUrl: '',\r\n      id: '',\r\n      nombre: '',\r\n      telefono: '',\r\n      accion: '',\r\n    },\r\n    refUser: {},\r\n    createContent:{\r\n      formUpload: {\r\n        titulo: '',\r\n        info: '',\r\n        prev: '',\r\n        fecha: '',\r\n        id: '',\r\n        seccion: 'Seleccione una opcin',\r\n        images: [],\r\n        tipo: false,\r\n      },\r\n    },\r\n    editContent:{\r\n      formUpload: {\r\n        titulo: '',\r\n        info: '',\r\n        prev: '',\r\n        fecha: '',\r\n        id: '',\r\n        seccion: '',\r\n        images: [],\r\n        tipo: false,\r\n        uploadImages: false,\r\n        uploadDataBase: false,\r\n      },\r\n    },\r\n    users:{\r\n      userRefer: false,\r\n      createUser:{\r\n        formUpload: {\r\n          activo: '',\r\n          apellido: '',\r\n          cargo: '',\r\n          correo: '',\r\n          correoVeri: '',\r\n          fotoUrl: '',\r\n          id: '',\r\n          nombre: '',\r\n          telefono: '',\r\n          create: false,\r\n          pass: '',\r\n        },\r\n      },\r\n    },\r\n    deleteContent:{\r\n      formUpload: {\r\n        id: '',\r\n        tipo: false,\r\n      },\r\n    },\r\n    dbImg: [],\r\n  },\r\n  mutations: {\r\n    dataWeb(state, baseDatos){\r\n      state.dbWeb = baseDatos[0]\r\n      if(baseDatos[1] !== undefined){\r\n        baseDatos[1] = true;\r\n      }\r\n    },\r\n    changeSecTitle(state, value){\r\n      state.secTitle = value\r\n    },\r\n    setUser(state, user){\r\n      state.users.userRefer = false;\r\n      \r\n      state.user = {\r\n        activo: user.activo,\r\n        apellido: user.apellido,\r\n        autori: user.autori,\r\n        cargo: user.cargo,\r\n        correo: user.correo,\r\n        correoVeri: user.correoVeri,\r\n        fotoUrl: user.fotoUrl,\r\n        id: user.id,\r\n        nombre: user.nombre,\r\n        telefono: user.telefono,\r\n        accion: user.accion,\r\n      }\r\n\r\n      state.refUser = {\r\n        activo: user.activo,\r\n        apellido: user.apellido,\r\n        autori: user.autori,\r\n        cargo: user.cargo,\r\n        correo: user.correo,\r\n        correoVeri: user.correoVeri,\r\n        fotoUrl: user.fotoUrl,\r\n        id: user.id,\r\n        nombre: user.nombre,\r\n        telefono: user.telefono,\r\n        accion: user.accion,\r\n      }\r\n    },\r\n    dbUserVal(state, value){\r\n      const valuesRef = {\r\n        user_activo: true,\r\n        user_apellido: value.apellido,\r\n        user_autori: value.autori,\r\n        user_cargo: value.cargo,\r\n        user_correo: value.correo,\r\n        user_correoVeri: value.correoVeri,\r\n        user_fotoUrl: `${value.fotoUrl}`,\r\n        user_id: value.id,\r\n        user_nombre: value.nombre,\r\n        user_telefono: `${value.telefono}`,\r\n        user_accion: `${value.accion}`,\r\n      }\r\n      const dbRef = firebase.database().ref('Usuarios');\r\n      dbRef.child(valuesRef.user_id).set(valuesRef).then(()=>{\r\n        this.commit('setUser', Object.values(valuesRef));\r\n      })\r\n    },\r\n    createUser(state, value){\r\n      state.users.userRefer = true;\r\n      const config = {\r\n        apiKey: \"AIzaSyCpsNVtsACCeS-amNprGUh0vGOE-SD9y5Q\",\r\n        authDomain: \"web-database-66842.firebaseapp.com\",\r\n        databaseURL: \"https://web-database-66842.firebaseio.com\",\r\n      }\r\n      const secondaryApp = firebase.initializeApp(config, \"Secondary\");\r\n      \r\n      secondaryApp.auth().createUserWithEmailAndPassword(state.users.createUser.formUpload.correo, state.users.createUser.formUpload.pass).then(user => {\r\n          const valuesRef = {\r\n            correo: user.user.email,\r\n            correoVeri: user.user.emailVerified,\r\n            nombre: user.user.displayName,\r\n            apellido: '',\r\n            autori: '',\r\n            fotoUrl: '',\r\n            telefono: '',\r\n            cargo: '',\r\n            id: user.user.uid,\r\n            activo: '',\r\n            accion: '',\r\n          }\r\n          secondaryApp.auth().signOut();\r\n          secondaryApp.delete()\r\n          const success = {\r\n            0: 'successUpload',\r\n            1: 'Se ha creado exitosamente'\r\n          };\r\n          this.commit('successAdvise', success);\r\n          const valuesDb = {\r\n            user_correo: user.user.email,\r\n            user_correoVeri: user.user.emailVerified,\r\n            user_nombre: user.user.displayName,\r\n            user_apellido: '',\r\n            user_autori: '',\r\n            user_fotoUrl: '',\r\n            user_telefono: '',\r\n            user_cargo: '',\r\n            user_id: user.user.uid,\r\n            user_activo: '',\r\n            user_accion: '',\r\n          }\r\n          this.commit('dbUserVal', valuesRef);\r\n          state.dbWeb.Usuarios[`${valuesDb.id}`] = valuesDb;\r\n          console.log(Object.values(state.dbWeb.Usuarios));\r\n        }).catch(err => {\r\n          state.users.userRefer = false;\r\n          secondaryApp.delete();\r\n          if(err.message === 'The email address is already in use by another account.'){\r\n            const success = {\r\n              0: 'errorUpload',\r\n              1: 'El correo ya est en uso'\r\n            };\r\n            this.commit('successAdvise', success);\r\n          }\r\n        })\r\n    },\r\n    updateUser(state, value){\r\n      if(value.tipo === '1'){\r\n        const valuesRef = {\r\n          user_id: value.id,\r\n          user_correo: value.correo,\r\n          user_correoVeri: value.correoVeri,\r\n          user_accion: value.accion,\r\n          user_telefono: value.telefono,\r\n          user_nombre: value.nombre,\r\n          user_apellido: value.apellido,\r\n          user_activo: value.activo,\r\n          user_fotoUrl: value.fotoUrl,\r\n          user_autori: value.autori,\r\n          user_cargo: value.cargo,\r\n        }\r\n\r\n        const dbRef = firebase.database().ref('Usuarios');\r\n        dbRef.child(valuesRef.user_id).set(valuesRef).then(()=>{\r\n          // Aqui debo poner para quitar el cargador\r\n          this.commit('setUser', value);\r\n          state.actUser = null;\r\n          const success = {\r\n            0: 'successUpload',\r\n            1: 'Se ha actualizado exitosamente'\r\n          };\r\n          this.commit('successAdvise', success);\r\n        })\r\n      }else{\r\n        const user = firebase.auth().currentUser;\r\n        if(user){\r\n          // Aqui debo poner el activador para el cargador\r\n          \r\n          user.updateProfile({\r\n            displayName: value.nombre,\r\n            email: value.correo,\r\n            phoneNumber: value.telefono,\r\n          }).then(() =>{\r\n            const valuesRef = {\r\n              user_correo: value.correo,\r\n              user_correoVeri: value.correoVeri,\r\n              user_nombre: value.nombre,\r\n              user_apellido: value.apellido,\r\n              user_autori: value.autori,\r\n              user_fotoUrl: value.fotoUrl,\r\n              user_telefono: value.telefono,\r\n              user_cargo: value.cargo,\r\n              user_id: value.id,\r\n              user_activo: value.activo,\r\n              user_accion: value.accion,\r\n            }\r\n            const dbRef = firebase.database().ref('Usuarios');\r\n            dbRef.child(value.id).set(valuesRef).then(()=>{\r\n              // Aqui debo poner para quitar el cargador\r\n              this.commit('setUser', value);\r\n              state.actUser = null;\r\n              const success = {\r\n                0: 'successUpload',\r\n                1: 'Se ha actualizado exitosamente'\r\n              };\r\n              this.commit('successAdvise', success);\r\n            })\r\n          })\r\n        }\r\n      }\r\n    },\r\n    isUserDiff(state, value){\r\n      if(value.tipo === '0'){\r\n        for(let i = 0; i < Object.values(state.user).length; i++){\r\n          if(Object.values(state.user)[i] !== Object.values(state.refUser)[i]){\r\n            state.actUser = true;\r\n            return this.commit('updateUser', state.user);\r\n          }\r\n        }\r\n      }else{\r\n        state.actUser = true;\r\n        this.commit('updateUser', value);\r\n      }\r\n    },\r\n    deleteItem(state, value){\r\n      state.deletingVal = true;\r\n      state.deletingIndex = value.index;\r\n\r\n      if(value.storage === false){\r\n        firebase.database().ref(`${value.ref}/${value.id}`).remove().then(()=>{\r\n          state.deletingVal = null;\r\n          state.deletingIndex = '';\r\n          const success = {\r\n            0: 'successUpload',\r\n            1: 'Se ha eliminado exitosamente'\r\n          }\r\n          this.commit('successAdvise', success)\r\n          }\r\n        )\r\n      }else if(value.storage === true){\r\n        try{\r\n          let storageRef = firebase.storage().ref(`/imagenes/${value.ref}/${value.id}`)\r\n          storageRef.listAll().then(prom => {\r\n            if(prom.items.length !== 0){\r\n              prom.items.forEach(element => {\r\n                storageRef.child(element.name).delete().then( err => {\r\n                  if(err !== undefined){\r\n                    console.log(err)\r\n                  }else{\r\n                    firebase.database().ref(`${value.ref}/${value.id}`).remove().then(()=>{\r\n                      state.deletingVal = null;\r\n                      state.deletingIndex = '';\r\n                      const success = {\r\n                        0: 'successUpload',\r\n                        1: 'Se ha eliminado exitosamente'\r\n                      }\r\n                      this.commit('successAdvise', success)\r\n                      }\r\n                    )\r\n                  }\r\n                })\r\n              });\r\n            }else{\r\n              firebase.database().ref(`${value.ref}/${value.id}`).remove().then(()=>{\r\n                state.deletingVal = null;\r\n                state.deletingIndex = '';\r\n                const success = {\r\n                  0: 'successUpload',\r\n                  1: 'Se ha eliminado exitosamente'\r\n                }\r\n                this.commit('successAdvise', success)\r\n                }\r\n              )\r\n            }\r\n          })\r\n        }catch(err){console.log(err)}\r\n      }\r\n\r\n    },\r\n    deletedEl(state, value){\r\n      if(value[0] === 0){\r\n        state.deletingVal = value[1];\r\n      }\r\n      if(value[0] === 1){\r\n        state.deletingIndex = value[1];\r\n      }\r\n    },\r\n    resetContentValues(state, val){\r\n      if(val === 0){\r\n        state.createContent.formUpload.titulo = '';\r\n        state.createContent.formUpload.info = '';\r\n        state.createContent.formUpload.prev = '';\r\n        state.createContent.formUpload.images = [];\r\n        state.createContent.formUpload.fecha = '';\r\n        state.createContent.formUpload.id = '';\r\n        state.createContent.formUpload.seccion = 'Seleccione una opcin';\r\n      }else if(val === 1){\r\n        state.editContent.formUpload.titulo = '';\r\n        state.editContent.formUpload.info = '';\r\n        state.editContent.formUpload.prev = '';\r\n        state.editContent.formUpload.images = [];\r\n        state.editContent.formUpload.fecha = '';\r\n        state.editContent.formUpload.id = '';\r\n        state.editContent.formUpload.seccion = 'Todas las secciones';\r\n      }else if(val === 3){\r\n        state.users = {\r\n          userRefer: false,\r\n          createUser:{\r\n            formUpload: {\r\n              activo: '',\r\n              apellido: '',\r\n              cargo: '',\r\n              correo: '',\r\n              correoVeri: '',\r\n              fotoUrl: '',\r\n              id: '',\r\n              nombre: '',\r\n              telefono: '',\r\n              create: false,\r\n              pass: '',\r\n            },\r\n          },\r\n        };\r\n      }\r\n    },\r\n    successAdvise(state, data){\r\n      state[`${data[0]}`] = data[1];\r\n    },\r\n    handleUpload(state, files){\r\n\r\n      let storageRef = [];\r\n      let percentage = [];\r\n      let order = [];\r\n      let task = {};\r\n      let i = 0;\r\n      let j = 0;\r\n      let m = 0;\r\n      let n = 0;\r\n\r\n      if(state.createContent.formUpload.tipo === true){\r\n        files.forEach(element => {\r\n          storageRef= firebase.storage().ref(`/imagenes/noticias/${state.createContent.formUpload.id}/foto${element.id}`);\r\n          task[i] = storageRef.put(element);\r\n          i++;\r\n        })\r\n  \r\n        for(let i = 0; i < files.length; i++){\r\n          task[i].on('state_changed', snapshot => {\r\n            percentage[snapshot.task.blob_.data_.id] = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            state.createContent.formUpload.images[snapshot.task.blob_.data_.id].uploadPercentage = percentage[snapshot.task.blob_.data_.id];\r\n            m ++;\r\n            if(state.createContent.formUpload.images[snapshot.task.blob_.data_.id].uploadPercentage === 100 && order.length < files.length){\r\n              order.push(snapshot.task.blob_.data_.id)\r\n            }\r\n          }, error => {\r\n            console.log(error.message);\r\n          }, () =>{\r\n            let dataRef = {\r\n              noti_titulo: state.createContent.formUpload.titulo,\r\n              noti_info: state.createContent.formUpload.info,\r\n              noti_fecha: state.createContent.formUpload.fecha,\r\n              noti_id: state.createContent.formUpload.id,\r\n              noti_prev: state.createContent.formUpload.prev,\r\n              noti_publicar: true,\r\n              noti_seccion: state.createContent.formUpload.seccion,\r\n              noti_imagenes: [],\r\n            }\r\n            let storageRef = firebase.storage().ref(`/imagenes/noticias/${state.createContent.formUpload.id}/foto${order[j]}`);\r\n            storageRef.getDownloadURL().then(url => {\r\n              let val = order[n];\r\n              state.createContent.formUpload.images[val].url = url;\r\n              state.createContent.formUpload.images[val].name = `foto${val}`;\r\n              n ++;\r\n              if(n >= state.createContent.formUpload.images.length){\r\n                n = 0;\r\n                state.createContent.formUpload.images.forEach(element => {\r\n                  dataRef.noti_imagenes.push({});\r\n                  dataRef.noti_imagenes[n].nombre = state.createContent.formUpload.images[n].name;\r\n                  dataRef.noti_imagenes[n].url = state.createContent.formUpload.images[n].url;\r\n                  n ++;\r\n                  if(n >= state.createContent.formUpload.images.length){\r\n                    const dbRef = firebase.database().ref('Noticias');\r\n                    dbRef.child(state.createContent.formUpload.id).set(dataRef);\r\n                    state.createContent.formUpload.tipo = false;\r\n                    const success = {\r\n                      0: 'successUpload',\r\n                      1: 'Se ha creado exitosamente'\r\n                    }\r\n                    this.commit('successAdvise', success)\r\n                  }\r\n                })\r\n              }\r\n            })\r\n            j ++;\r\n          })\r\n        }\r\n      }else if(state.editContent.formUpload.tipo === true){\r\n\r\n        if(state.editContent.formUpload.uploadImages === true){\r\n          files.forEach(element => {\r\n            storageRef= firebase.storage().ref(`/imagenes/noticias/${state.editContent.formUpload.id}/foto${element.id}`);\r\n            task[i] = storageRef.put(element);\r\n            i++;\r\n          })\r\n\r\n          for(let i = 0; i < files.length; i++){\r\n            task[i].on('state_changed', snapshot => {\r\n              percentage[snapshot.task.blob_.data_.id] = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n              state.editContent.formUpload.images[snapshot.task.blob_.data_.id].uploadPercentage = percentage[snapshot.task.blob_.data_.id];;\r\n              m ++;\r\n              if(state.editContent.formUpload.images[snapshot.task.blob_.data_.id].uploadPercentage === 100 && order.length < files.length){\r\n                order.push(snapshot.task.blob_.data_.id)\r\n              }\r\n            }, error => {\r\n              console.log(error.message);\r\n            }, () =>{\r\n              let dataRef = {\r\n                noti_titulo: state.editContent.formUpload.titulo,\r\n                noti_info: state.editContent.formUpload.info,\r\n                noti_fecha: state.editContent.formUpload.fecha,\r\n                noti_id: state.editContent.formUpload.id,\r\n                noti_prev: state.editContent.formUpload.prev,\r\n                noti_publicar: true,\r\n                noti_seccion: state.editContent.formUpload.seccion,\r\n                noti_imagenes: [],\r\n              }\r\n              let storageRef = firebase.storage().ref(`/imagenes/noticias/${state.editContent.formUpload.id}/foto${order[j]}`);\r\n              storageRef.getDownloadURL().then(url => {\r\n                let val = order[n];\r\n                state.editContent.formUpload.images[val].url = url;\r\n                state.editContent.formUpload.images[val].name = `foto${val}`;\r\n                n ++;\r\n                if(n >= state.editContent.formUpload.images.length){\r\n                  n = 0;\r\n                  state.editContent.formUpload.images.forEach(element => {\r\n                    dataRef.noti_imagenes.push({});\r\n                    dataRef.noti_imagenes[n].nombre = state.editContent.formUpload.images[n].name;\r\n                    dataRef.noti_imagenes[n].url = state.editContent.formUpload.images[n].url;\r\n                    n ++;\r\n                    if(n >= state.editContent.formUpload.images.length){\r\n                      const dbRef = firebase.database().ref('Noticias');\r\n                      dbRef.child(state.editContent.formUpload.id).set(dataRef);\r\n                      state.editContent.formUpload.tipo = false;\r\n                      const success = {\r\n                        0: 'successUpload',\r\n                        1: 'Se ha actualizado exitosamente'\r\n                      }\r\n                      this.commit('successAdvise', success)\r\n                    }\r\n                  })\r\n                }\r\n              })\r\n              j ++;\r\n            })\r\n          }\r\n        }else{\r\n          let dataRef = {\r\n            noti_titulo: state.editContent.formUpload.titulo,\r\n            noti_info: state.editContent.formUpload.info,\r\n            noti_fecha: state.editContent.formUpload.fecha,\r\n            noti_id: state.editContent.formUpload.id,\r\n            noti_prev: state.editContent.formUpload.prev,\r\n            noti_publicar: true,\r\n            noti_seccion: state.editContent.formUpload.seccion,\r\n            noti_imagenes: state.editContent.formUpload.images,\r\n          }\r\n          const dbRef = firebase.database().ref('Noticias');\r\n          dbRef.child(state.editContent.formUpload.id).set(dataRef);\r\n          state.editContent.formUpload.tipo = false;\r\n          const success = {\r\n            0: 'successUpload',\r\n            1: 'Se ha actualizado exitosamente'\r\n          }\r\n          this.commit('successAdvise', success)\r\n        }\r\n      }else if(state.deleteContent.formUpload.tipo === true){\r\n        try{\r\n          let storageRef = firebase.storage().ref(`/imagenes/noticias/${state.deleteContent.formUpload.id}`)\r\n          storageRef.listAll().then(prom => {\r\n            prom.items.forEach(element => {\r\n              storageRef.child(element.name).delete().then( err => {\r\n                if(err !== undefined){\r\n                  console.log(err)\r\n                }else{\r\n                  firebase.database().ref(`Noticias/${state.deleteContent.formUpload.id}`).remove().then(()=>{\r\n                      state.deletingVal = false;\r\n                      state.deleteContent.formUpload.tipo = false;\r\n                      const success = {\r\n                        0: 'successUpload',\r\n                        1: 'Se ha eliminado exitosamente'\r\n                      }\r\n                      this.commit('successAdvise', success)\r\n                    }\r\n                  )\r\n                }\r\n              })\r\n            });\r\n          })\r\n        }catch(err){console.log(err)}\r\n      }\r\n    },\r\n    filesUpload(state, data){\r\n\r\n      state.formtipo = data[2]\r\n\r\n      if(state.formtipo === 0){\r\n        let d = new Date();\r\n        const miliSec = Date.parse(d);\r\n        let dString = d.toString();\r\n        const splittedDate = dString.split(' ');\r\n        const joinedDate = [];\r\n        for(let i = 1; i < 5; i++){\r\n          joinedDate.push(splittedDate[i]);\r\n        }\r\n        const joined = joinedDate.join('|');\r\n        \r\n        state.createContent.formUpload.tipo = true\r\n        state.createContent.formUpload.fecha = joined;\r\n        state.createContent.formUpload.images = data[0];\r\n        state.createContent.formUpload.id = miliSec;\r\n  \r\n        this.commit('handleUpload', data[1])\r\n      }else if(state.formtipo === 1){\r\n        state.editContent.formUpload.tipo = true;\r\n        state.editContent.formUpload.fecha = data[0].fecha;\r\n        state.editContent.formUpload.images = data[0].imagenes;\r\n        state.editContent.formUpload.id = data[0].id;\r\n        state.editContent.formUpload.titulo = data[0].titulo;\r\n        state.editContent.formUpload.info = data[0].info;\r\n        state.editContent.formUpload.prev = data[0].prev;\r\n        state.editContent.formUpload.seccion = data[0].seccion;\r\n        state.editContent.formUpload.uploadImages = data[3];\r\n        state.editContent.formUpload.uploadDataBase = data[4];\r\n  \r\n        this.commit('handleUpload', data[1])\r\n      }else if(state.formtipo === 2){\r\n        state.deleteContent.formUpload.id = data[0];\r\n        state.deleteContent.formUpload.tipo = true;\r\n        state.deletingVal = true;\r\n        state.deletingIndex = data[3];\r\n\r\n        this.commit('handleUpload', data[1])\r\n      }\r\n      \r\n    },\r\n    crearDB(state, data){\r\n      if(data.target === 'Juntas'){\r\n        \r\n        for(let i = 0; i < Object.values(data.junta.integrantes).length; i++){\r\n          state.dbImg[i] = [];\r\n          state.dbImg[i] = Object.values(data.junta.integrantes)[i].image;\r\n        }\r\n\r\n        let storageRef = [];\r\n        let percentage = [];\r\n        let order = [];\r\n        let task = {};\r\n        let i = 0;\r\n        let j = 0;\r\n        let n = 0;\r\n\r\n        Object.values(data.archivos).forEach(element => {\r\n          storageRef= firebase.storage().ref(`/imagenes/${data.target}/${data.junta.inicio}/${data.junta.integrantes[`${element.id}`].cargo.split(' ').join('_')}`);\r\n          task[`${element.id}`] = storageRef.put(element);\r\n        })\r\n        \r\n        if(Object.values(task).length !== 0){\r\n          Object.values(data.archivos).forEach(element => {\r\n            task[`${element.id}`].on('state_changed', snapshot => {\r\n              percentage[snapshot.task.blob_.data_.id] = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n              state.dbImg[snapshot.task.blob_.data_.id].uploadPercentage = percentage[snapshot.task.blob_.data_.id];\r\n              if(state.dbImg[snapshot.task.blob_.data_.id].uploadPercentage === 100 && order.length < Object.values(data.archivos).length){\r\n                order.push(snapshot.task.blob_.data_.id)\r\n              }\r\n            }, error => {\r\n              console.log(error.message);\r\n            }, () =>{\r\n  \r\n              let dataRef = [];\r\n              dataRef.junt_periodo = `${data.junta.inicio}_${data.junta.fin}`;\r\n              dataRef.junt_id = `${data.junta.inicio}`;\r\n              dataRef.junt_activa = data.junta.junta_actual;\r\n              dataRef.junt_integrantes = [];\r\n  \r\n              for(let i = 0; i < Object.values(data.junta.integrantes).length; i++){\r\n                if(Object.values(data.junta.integrantes)[i].cargo.split(' ').length > 1){\r\n                  dataRef.junt_integrantes[i] = [];\r\n                  dataRef.junt_integrantes[i].juin_cargo = Object.values(data.junta.integrantes)[i].cargo\r\n                  dataRef.junt_integrantes[i].juin_nombre = Object.values(data.junta.integrantes)[i].nombre\r\n                  dataRef.junt_integrantes[i].juin_apellido = Object.values(data.junta.integrantes)[i].apellido\r\n                  dataRef.junt_integrantes[i].juin_correo = Object.values(data.junta.integrantes)[i].correo\r\n                  dataRef.junt_integrantes[i].juin_foto = Object.values(data.junta.integrantes)[i].image\r\n                  dataRef.junt_integrantes[i].juin_activo = Object.values(data.junta.integrantes)[i].activo\r\n                  dataRef.junt_integrantes[i].juin_crear = Object.values(data.junta.integrantes)[i].crear\r\n                }else{\r\n                  dataRef.junt_integrantes[i] = [];\r\n                  dataRef.junt_integrantes[i].juin_cargo = Object.values(data.junta.integrantes)[i].cargo\r\n                  dataRef.junt_integrantes[i].juin_nombre = Object.values(data.junta.integrantes)[i].nombre\r\n                  dataRef.junt_integrantes[i].juin_apellido = Object.values(data.junta.integrantes)[i].apellido\r\n                  dataRef.junt_integrantes[i].juin_correo = Object.values(data.junta.integrantes)[i].correo\r\n                  dataRef.junt_integrantes[i].juin_foto = Object.values(data.junta.integrantes)[i].image\r\n                  dataRef.junt_integrantes[i].juin_activo = Object.values(data.junta.integrantes)[i].activo\r\n                  dataRef.junt_integrantes[i].juin_crear = Object.values(data.junta.integrantes)[i].crear\r\n                }\r\n              }\r\n  \r\n              let storageRef= firebase.storage().ref(`/imagenes/${data.target}/${data.junta.inicio}/${data.junta.integrantes[`${order[j]}`].cargo.split(' ').join('_')}`);\r\n              \r\n              storageRef.getDownloadURL().then(url => {\r\n                let val = order[n];\r\n                console.log(n);\r\n                state.dbImg[val].url = url;\r\n                state.dbImg[val].nombre = `foto${val}`;\r\n                n ++;\r\n                if(n >= order.length){\r\n                  i = 0;\r\n                  Object.values(dataRef.junt_integrantes).forEach(element => {\r\n                    if(state.dbImg[i].nombre !== undefined && state.dbImg[i].url !== undefined){\r\n                      element.juin_foto.nombre = state.dbImg[i].nombre;\r\n                      element.juin_foto.url = state.dbImg[i].url;\r\n                    }else{\r\n                      element.juin_foto = \"\";\r\n                    }\r\n                    i ++;\r\n                    if(n >= Object.values(data.archivos).length){\r\n                      const dbRef = firebase.database().ref(`${data.target}`);\r\n                      dbRef.child(`${data.junta.inicio}`).set(dataRef);\r\n                      const success = {\r\n                        0: 'successUpload',\r\n                        1: 'Se ha creado exitosamente'\r\n                      }\r\n                      this.commit('successAdvise', success)\r\n                    }\r\n                  })\r\n                }\r\n              })\r\n              j ++;\r\n            })\r\n          })\r\n        }else{\r\n          let dataRef = [];\r\n          dataRef.junt_periodo = `${data.junta.inicio}-${data.junta.fin}`;\r\n          dataRef.junt_id = `${data.junta.inicio}`;\r\n          dataRef.junt_activa = data.junta.junta_actual;\r\n          dataRef.junt_integrantes = [];\r\n\r\n          for(let i = 0; i < Object.values(data.junta.integrantes).length; i++){\r\n            if(Object.values(data.junta.integrantes)[i].cargo.split(' ').length > 1){\r\n              dataRef.junt_integrantes[i] = [];\r\n              dataRef.junt_integrantes[i].juin_cargo = Object.values(data.junta.integrantes)[i].cargo\r\n              dataRef.junt_integrantes[i].juin_nombre = Object.values(data.junta.integrantes)[i].nombre\r\n              dataRef.junt_integrantes[i].juin_apellido = Object.values(data.junta.integrantes)[i].apellido\r\n              dataRef.junt_integrantes[i].juin_correo = Object.values(data.junta.integrantes)[i].correo\r\n              dataRef.junt_integrantes[i].juin_foto = Object.values(data.junta.integrantes)[i].image\r\n              dataRef.junt_integrantes[i].juin_activo = Object.values(data.junta.integrantes)[i].activo\r\n              dataRef.junt_integrantes[i].juin_crear = Object.values(data.junta.integrantes)[i].crear\r\n            }else{\r\n              dataRef.junt_integrantes[i] = [];\r\n              dataRef.junt_integrantes[i].juin_cargo = Object.values(data.junta.integrantes)[i].cargo\r\n              dataRef.junt_integrantes[i].juin_nombre = Object.values(data.junta.integrantes)[i].nombre\r\n              dataRef.junt_integrantes[i].juin_apellido = Object.values(data.junta.integrantes)[i].apellido\r\n              dataRef.junt_integrantes[i].juin_correo = Object.values(data.junta.integrantes)[i].correo\r\n              dataRef.junt_integrantes[i].juin_foto = Object.values(data.junta.integrantes)[i].image\r\n              dataRef.junt_integrantes[i].juin_activo = Object.values(data.junta.integrantes)[i].activo\r\n              dataRef.junt_integrantes[i].juin_crear = Object.values(data.junta.integrantes)[i].crear\r\n            }\r\n          }\r\n\r\n          const dbRef = firebase.database().ref(`${data.target}`);\r\n          dbRef.child(`${data.junta.inicio}`).set(dataRef);\r\n          const success = {\r\n            0: 'successUpload',\r\n            1: 'Se ha creado exitosamente'\r\n          }\r\n          this.commit('successAdvise', success)\r\n        }\r\n      }\r\n    },\r\n    deleteDB(state, data){\r\n      \r\n    },\r\n    resetDBValues(state, value){\r\n      if(value === undefined){\r\n        state.dbImg = [];\r\n      }else if(state.dbImg[`${value}`] !== undefined){\r\n        state.dbImg[`${value}`] = [];\r\n      }\r\n    },\r\n    falseCargarDB(state){\r\n      state.cargarDB = false;\r\n    },\r\n  },\r\n  actions: {\r\n    getData: async function({commit}, val){\r\n      let tryAgain = true;\r\n      while(tryAgain){\r\n        try{\r\n          const data = await fetch(\"https://web-database-66842.firebaseio.com/.json\");\r\n          const dbWeb = await data.json();\r\n          const value = {\r\n            0: dbWeb,\r\n            1: val,\r\n          }\r\n          tryAgain = false;\r\n          commit('dataWeb', value)\r\n        }catch(err){\r\n          setTimeout(() => {\r\n          }, 2000);\r\n        }\r\n      }\r\n    },\r\n  },\r\n  modules: {\r\n  },\r\n  getters: {\r\n    userUpdate: state => {\r\n      return state.user;\r\n    },\r\n  }\r\n})\r\n"]}]}
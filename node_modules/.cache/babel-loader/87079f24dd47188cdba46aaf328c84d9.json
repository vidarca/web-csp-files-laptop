{"remainingRequest":"C:\\WebProjects\\Web-csp\\web-csp\\web-csp-files-laptop\\node_modules\\babel-loader\\lib\\index.js!C:\\WebProjects\\Web-csp\\web-csp\\web-csp-files-laptop\\src\\store\\index.js","dependencies":[{"path":"C:\\WebProjects\\Web-csp\\web-csp\\web-csp-files-laptop\\src\\store\\index.js","mtime":1600785984955},{"path":"C:\\WebProjects\\Web-csp\\web-csp\\web-csp-files-laptop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600692212778},{"path":"C:\\WebProjects\\Web-csp\\web-csp\\web-csp-files-laptop\\node_modules\\babel-loader\\lib\\index.js","mtime":1600692210221}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1dlYlByb2plY3RzL1dlYi1jc3Avd2ViLWNzcC93ZWItY3NwLWZpbGVzLWxhcHRvcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7CmltcG9ydCB7IGRhdGEgfSBmcm9tICdqcXVlcnknOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHN1Y2Nlc3NVcGxvYWQ6IG51bGwsCiAgICBkZWxldGluZ1ZhbDogbnVsbCwKICAgIGxvYWRFZGl0OiBmYWxzZSwKICAgIGRlbGV0aW5nSW5kZXg6ICcnLAogICAgYWN0VXNlcjogbnVsbCwKICAgIGRiV2ViOiBbXSwKICAgIGRwUmVzcG9uc2l2ZTogZmFsc2UsCiAgICBoZWFkZXJWaWV3OiAwLAogICAgZm9ybXRpcG86IDAsCiAgICB1c2VyOiB7CiAgICAgIGVtYWlsOiAnJywKICAgICAgZGlzcGxheU5hbWU6ICcnCiAgICB9LAogICAgcmVmVXNlcjoge30sCiAgICBjcmVhdGVDb250ZW50OiB7CiAgICAgIGZvcm1VcGxvYWQ6IHsKICAgICAgICB0aXR1bG86ICcnLAogICAgICAgIGluZm86ICcnLAogICAgICAgIHByZXY6ICcnLAogICAgICAgIGZlY2hhOiAnJywKICAgICAgICBpZDogJycsCiAgICAgICAgc2VjY2lvbjogJ1NlbGVjY2lvbmUgdW5hIG9wY2nDs24nLAogICAgICAgIGltYWdlczogW10sCiAgICAgICAgdGlwbzogZmFsc2UKICAgICAgfQogICAgfSwKICAgIGVkaXRDb250ZW50OiB7CiAgICAgIGZvcm1VcGxvYWQ6IHsKICAgICAgICB0aXR1bG86ICcnLAogICAgICAgIGluZm86ICcnLAogICAgICAgIHByZXY6ICcnLAogICAgICAgIGZlY2hhOiAnJywKICAgICAgICBpZDogJycsCiAgICAgICAgc2VjY2lvbjogJycsCiAgICAgICAgaW1hZ2VzOiBbXSwKICAgICAgICB0aXBvOiBmYWxzZSwKICAgICAgICB1cGxvYWRJbWFnZXM6IGZhbHNlLAogICAgICAgIHVwbG9hZERhdGFCYXNlOiBmYWxzZQogICAgICB9CiAgICB9LAogICAgZGVsZXRlQ29udGVudDogewogICAgICBmb3JtVXBsb2FkOiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIHRpcG86IGZhbHNlCiAgICAgIH0KICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgZGF0YVdlYjogZnVuY3Rpb24gZGF0YVdlYihzdGF0ZSwgYmFzZURhdG9zKSB7CiAgICAgIHN0YXRlLmRiV2ViID0gYmFzZURhdG9zWzBdOwoKICAgICAgaWYgKGJhc2VEYXRvc1sxXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgYmFzZURhdG9zWzFdID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGlzUmVzcG9uc2l2ZTogZnVuY3Rpb24gaXNSZXNwb25zaXZlKHN0YXRlKSB7CiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSA3NjgpIHsKICAgICAgICBzdGF0ZS5kcFJlc3BvbnNpdmUgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDc2OCkgewogICAgICAgIHN0YXRlLmRwUmVzcG9uc2l2ZSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnVzZXIgPSB7CiAgICAgICAgYWN0aXZvOiB1c2VyWzBdLAogICAgICAgIGFwZWxsaWRvOiB1c2VyWzFdLAogICAgICAgIGF1dG9yaTogdXNlclsyXSwKICAgICAgICBjYXJnbzogdXNlclszXSwKICAgICAgICBjb3JyZW86IHVzZXJbNF0sCiAgICAgICAgY29ycmVvVmVyaTogdXNlcls1XSwKICAgICAgICBmb3RvVXJsOiB1c2VyWzZdLAogICAgICAgIGlkOiB1c2VyWzddLAogICAgICAgIG5hbWU6IHVzZXJbOF0sCiAgICAgICAgdGVsZWZvbm86IHVzZXJbOV0KICAgICAgfTsKICAgICAgc3RhdGUucmVmVXNlciA9IHsKICAgICAgICBhY3Rpdm86IHVzZXJbMF0sCiAgICAgICAgYXBlbGxpZG86IHVzZXJbMV0sCiAgICAgICAgYXV0b3JpOiB1c2VyWzJdLAogICAgICAgIGNhcmdvOiB1c2VyWzNdLAogICAgICAgIGNvcnJlbzogdXNlcls0XSwKICAgICAgICBjb3JyZW9WZXJpOiB1c2VyWzVdLAogICAgICAgIGZvdG9Vcmw6IHVzZXJbNl0sCiAgICAgICAgaWQ6IHVzZXJbN10sCiAgICAgICAgbmFtZTogdXNlcls4XSwKICAgICAgICB0ZWxlZm9ubzogdXNlcls5XQogICAgICB9OwogICAgfSwKICAgIHVwZGF0ZVVzZXI6IGZ1bmN0aW9uIHVwZGF0ZVVzZXIoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXNlciA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjsKCiAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgLy8gQXF1aSBkZWJvIHBvbmVyIGVsIGFjdGl2YWRvciBwYXJhIGVsIGNhcmdhZG9yCiAgICAgICAgdXNlci51cGRhdGVQcm9maWxlKHsKICAgICAgICAgIGRpc3BsYXlOYW1lOiB2YWx1ZS5uYW1lLAogICAgICAgICAgZW1haWw6IHZhbHVlLmNvcnJlbwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHZhbHVlc1JlZiA9IHsKICAgICAgICAgICAgdWFkbWluX2NvcnJlbzogdmFsdWUuY29ycmVvLAogICAgICAgICAgICB1YWRtaW5fY29ycmVvVmVyaTogdmFsdWUuY29ycmVvVmVyaSwKICAgICAgICAgICAgdWFkbWluX25vbWJyZTogdmFsdWUubmFtZSwKICAgICAgICAgICAgdWFkbWluX2FwZWxsaWRvOiB2YWx1ZS5hcGVsbGlkbywKICAgICAgICAgICAgdWFkbWluX2F1dG9yaTogdmFsdWUuYXV0b3JpLAogICAgICAgICAgICB1YWRtaW5fZm90b1VybDogdmFsdWUuZm90b1VybCwKICAgICAgICAgICAgdWFkbWluX3RlbGVmb25vOiB2YWx1ZS50ZWxlZm9ubywKICAgICAgICAgICAgdWFkbWluX2NhcmdvOiB2YWx1ZS5jYXJnbywKICAgICAgICAgICAgdWFkbWluX2lkOiB2YWx1ZS5pZCwKICAgICAgICAgICAgdWFkbWluX2FjdGl2bzogdmFsdWUuYWN0aXZvCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIGRiUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ1VzdWFyaW9zX2FkbWluJyk7CiAgICAgICAgICBkYlJlZi5jaGlsZCh2YWx1ZS5pZCkuc2V0KHZhbHVlc1JlZikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIEFxdWkgZGVibyBwb25lciBwYXJhIHF1aXRhciBlbCBjYXJnYWRvcgogICAgICAgICAgICBfdGhpcy5jb21taXQoJ3NldFVzZXInLCBPYmplY3QudmFsdWVzKHZhbHVlKSk7CgogICAgICAgICAgICBzdGF0ZS5hY3RVc2VyID0gbnVsbDsKICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB7CiAgICAgICAgICAgICAgMDogJ3N1Y2Nlc3NVcGxvYWQnLAogICAgICAgICAgICAgIDE6ICdTZSBoYSBhY3R1YWxpemFkbyBleGl0b3NhbWVudGUnCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBfdGhpcy5jb21taXQoJ3N1Y2Nlc3NBZHZpc2UnLCBzdWNjZXNzKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZGJVc2VyVmFsOiBmdW5jdGlvbiBkYlVzZXJWYWwoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHZhbHVlWzBdID09PSAwKSB7CiAgICAgICAgdmFyIHZhbHVlc1JlZiA9IHsKICAgICAgICAgIHVhZG1pbl9hY3Rpdm86IHRydWUsCiAgICAgICAgICB1YWRtaW5fY29ycmVvOiB2YWx1ZVszXSwKICAgICAgICAgIHVhZG1pbl9jb3JyZW9WZXJpOiB2YWx1ZVs0XSwKICAgICAgICAgIHVhZG1pbl9pZDogdmFsdWVbMV0sCiAgICAgICAgICB1YWRtaW5fbm9tYnJlOiB2YWx1ZVsyXSwKICAgICAgICAgIHVhZG1pbl9hcGVsbGlkbzogJycsCiAgICAgICAgICB1YWRtaW5fYXV0b3JpOiAnJywKICAgICAgICAgIHVhZG1pbl9mb3RvVXJsOiAiIi5jb25jYXQodmFsdWVbNV0pLAogICAgICAgICAgdWFkbWluX3RlbGVmb25vOiAiIi5jb25jYXQodmFsdWVbNl0pLAogICAgICAgICAgdWFkbWluX2NhcmdvOiAnJwogICAgICAgIH07CiAgICAgICAgdmFyIGRiUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ1VzdWFyaW9zX2FkbWluJyk7CiAgICAgICAgZGJSZWYuY2hpbGQodmFsdWVzUmVmLnVhZG1pbl9pZCkuc2V0KHZhbHVlc1JlZikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuY29tbWl0KCdzZXRVc2VyJywgT2JqZWN0LnZhbHVlcyh2YWx1ZXNSZWYpKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGlzVXNlckRpZmY6IGZ1bmN0aW9uIGlzVXNlckRpZmYoc3RhdGUpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBPYmplY3QudmFsdWVzKHN0YXRlLnVzZXIpLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoc3RhdGUudXNlcilbaV0gIT09IE9iamVjdC52YWx1ZXMoc3RhdGUucmVmVXNlcilbaV0pIHsKICAgICAgICAgIHN0YXRlLmFjdFVzZXIgPSB0cnVlOwogICAgICAgICAgcmV0dXJuIHRoaXMuY29tbWl0KCd1cGRhdGVVc2VyJywgc3RhdGUudXNlcik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGVsZXRlZEVsOiBmdW5jdGlvbiBkZWxldGVkRWwoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZVswXSA9PT0gMCkgewogICAgICAgIHN0YXRlLmRlbGV0aW5nVmFsID0gdmFsdWVbMV07CiAgICAgIH0KCiAgICAgIGlmICh2YWx1ZVswXSA9PT0gMSkgewogICAgICAgIHN0YXRlLmRlbGV0aW5nSW5kZXggPSB2YWx1ZVsxXTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0Q29udGVudFZhbHVlczogZnVuY3Rpb24gcmVzZXRDb250ZW50VmFsdWVzKHN0YXRlLCB2YWwpIHsKICAgICAgaWYgKHZhbCA9PT0gMCkgewogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC50aXR1bG8gPSAnJzsKICAgICAgICBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaW5mbyA9ICcnOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5wcmV2ID0gJyc7CiAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlcyA9IFtdOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5mZWNoYSA9ICcnOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pZCA9ICcnOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5zZWNjaW9uID0gJ1NlbGVjY2lvbmUgdW5hIG9wY2nDs24nOwogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gMSkgewogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGl0dWxvID0gJyc7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbmZvID0gJyc7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5wcmV2ID0gJyc7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMgPSBbXTsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmZlY2hhID0gJyc7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pZCA9ICcnOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuc2VjY2lvbiA9ICdUb2RhcyBsYXMgc2VjY2lvbmVzJzsKICAgICAgfQogICAgfSwKICAgIHN1Y2Nlc3NBZHZpc2U6IGZ1bmN0aW9uIHN1Y2Nlc3NBZHZpc2Uoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGVbIiIuY29uY2F0KGRhdGFbMF0pXSA9IGRhdGFbMV07CiAgICB9LAogICAgaGFuZGxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWQoc3RhdGUsIGZpbGVzKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHN0b3JhZ2VSZWYgPSBbXTsKICAgICAgdmFyIHBlcmNlbnRhZ2UgPSBbXTsKICAgICAgdmFyIG9yZGVyID0gW107CiAgICAgIHZhciB0YXNrID0ge307CiAgICAgIHZhciBpID0gMDsKICAgICAgdmFyIGogPSAwOwogICAgICB2YXIgbSA9IDA7CiAgICAgIHZhciBuID0gMDsKCiAgICAgIGlmIChzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9PT0gdHJ1ZSkgewogICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIHN0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCIvaW1hZ2VuZXMvbm90aWNpYXMvIi5jb25jYXQoc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmlkLCAiL2ZvdG8iKS5jb25jYXQoZWxlbWVudC5pZCkpOwogICAgICAgICAgdGFza1tpXSA9IHN0b3JhZ2VSZWYucHV0KGVsZW1lbnQpOwogICAgICAgICAgaSsrOwogICAgICAgIH0pOwoKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmlsZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICB0YXNrW19pXS5vbignc3RhdGVfY2hhbmdlZCcsIGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgICAgICBwZXJjZW50YWdlW3NuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWRdID0gc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMgKiAxMDA7CiAgICAgICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF0udXBsb2FkUGVyY2VudGFnZSA9IHBlcmNlbnRhZ2Vbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF07CiAgICAgICAgICAgIG0rKzsKCiAgICAgICAgICAgIGlmIChzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzW3NuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWRdLnVwbG9hZFBlcmNlbnRhZ2UgPT09IDEwMCAmJiBvcmRlci5sZW5ndGggPCBmaWxlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICBvcmRlci5wdXNoKHNuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBkYXRhUmVmID0gewogICAgICAgICAgICAgIG5vdGlfdGl0dWxvOiBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQudGl0dWxvLAogICAgICAgICAgICAgIG5vdGlfaW5mbzogc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmluZm8sCiAgICAgICAgICAgICAgbm90aV9mZWNoYTogc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmZlY2hhLAogICAgICAgICAgICAgIG5vdGlfaWQ6IHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pZCwKICAgICAgICAgICAgICBub3RpX3ByZXY6IHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5wcmV2LAogICAgICAgICAgICAgIG5vdGlfcHVibGljYXI6IHRydWUsCiAgICAgICAgICAgICAgbm90aV9zZWNjaW9uOiBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuc2VjY2lvbiwKICAgICAgICAgICAgICBub3RpX2ltYWdlbmVzOiBbXQogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgc3RvcmFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoIi9pbWFnZW5lcy9ub3RpY2lhcy8iLmNvbmNhdChzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaWQsICIvZm90byIpLmNvbmNhdChvcmRlcltqXSkpOwogICAgICAgICAgICBzdG9yYWdlUmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgICAgdmFyIHZhbCA9IG9yZGVyW25dOwogICAgICAgICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbdmFsXS51cmwgPSB1cmw7CiAgICAgICAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlc1t2YWxdLm5hbWUgPSAiZm90byIuY29uY2F0KHZhbCk7CiAgICAgICAgICAgICAgbisrOwoKICAgICAgICAgICAgICBpZiAobiA+PSBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgbiA9IDA7CiAgICAgICAgICAgICAgICBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgZGF0YVJlZi5ub3RpX2ltYWdlbmVzLnB1c2goe30pOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLm5vdGlfaW1hZ2VuZXNbbl0ubm9tYnJlID0gc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlc1tuXS5uYW1lOwogICAgICAgICAgICAgICAgICBkYXRhUmVmLm5vdGlfaW1hZ2VuZXNbbl0udXJsID0gc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlc1tuXS51cmw7CiAgICAgICAgICAgICAgICAgIG4rKzsKCiAgICAgICAgICAgICAgICAgIGlmIChuID49IHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRiUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ05vdGljaWFzJyk7CiAgICAgICAgICAgICAgICAgICAgZGJSZWYuY2hpbGQoc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmlkKS5zZXQoZGF0YVJlZik7CiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLnRpcG8gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHsKICAgICAgICAgICAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgICAgICAgICAgIDE6ICdTZSBoYSBjcmVhZG8gZXhpdG9zYW1lbnRlJwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy5jb21taXQoJ3N1Y2Nlc3NBZHZpc2UnLCBzdWNjZXNzKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaisrOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9PT0gdHJ1ZSkgewogICAgICAgIGlmIChzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnVwbG9hZEltYWdlcyA9PT0gdHJ1ZSkgewogICAgICAgICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigiL2ltYWdlbmVzL25vdGljaWFzLyIuY29uY2F0KHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQsICIvZm90byIpLmNvbmNhdChlbGVtZW50LmlkKSk7CiAgICAgICAgICAgIHRhc2tbaV0gPSBzdG9yYWdlUmVmLnB1dChlbGVtZW50KTsKICAgICAgICAgICAgaSsrOwogICAgICAgICAgfSk7CgogICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgZmlsZXMubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICB0YXNrW19pMl0ub24oJ3N0YXRlX2NoYW5nZWQnLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICAgICAgICBwZXJjZW50YWdlW3NuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWRdID0gc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMgKiAxMDA7CiAgICAgICAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF0udXBsb2FkUGVyY2VudGFnZSA9IHBlcmNlbnRhZ2Vbc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZF07CiAgICAgICAgICAgICAgOwogICAgICAgICAgICAgIG0rKzsKCiAgICAgICAgICAgICAgaWYgKHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzW3NuYXBzaG90LnRhc2suYmxvYl8uZGF0YV8uaWRdLnVwbG9hZFBlcmNlbnRhZ2UgPT09IDEwMCAmJiBvcmRlci5sZW5ndGggPCBmaWxlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIG9yZGVyLnB1c2goc25hcHNob3QudGFzay5ibG9iXy5kYXRhXy5pZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBkYXRhUmVmID0gewogICAgICAgICAgICAgICAgbm90aV90aXR1bG86IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGl0dWxvLAogICAgICAgICAgICAgICAgbm90aV9pbmZvOiBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmluZm8sCiAgICAgICAgICAgICAgICBub3RpX2ZlY2hhOiBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmZlY2hhLAogICAgICAgICAgICAgICAgbm90aV9pZDogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pZCwKICAgICAgICAgICAgICAgIG5vdGlfcHJldjogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5wcmV2LAogICAgICAgICAgICAgICAgbm90aV9wdWJsaWNhcjogdHJ1ZSwKICAgICAgICAgICAgICAgIG5vdGlfc2VjY2lvbjogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5zZWNjaW9uLAogICAgICAgICAgICAgICAgbm90aV9pbWFnZW5lczogW10KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHZhciBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigiL2ltYWdlbmVzL25vdGljaWFzLyIuY29uY2F0KHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQsICIvZm90byIpLmNvbmNhdChvcmRlcltqXSkpOwogICAgICAgICAgICAgIHN0b3JhZ2VSZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgICAgIHZhciB2YWwgPSBvcmRlcltuXTsKICAgICAgICAgICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzW3ZhbF0udXJsID0gdXJsOwogICAgICAgICAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbdmFsXS5uYW1lID0gImZvdG8iLmNvbmNhdCh2YWwpOwogICAgICAgICAgICAgICAgbisrOwoKICAgICAgICAgICAgICAgIGlmIChuID49IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBuID0gMDsKICAgICAgICAgICAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgIGRhdGFSZWYubm90aV9pbWFnZW5lcy5wdXNoKHt9KTsKICAgICAgICAgICAgICAgICAgICBkYXRhUmVmLm5vdGlfaW1hZ2VuZXNbbl0ubm9tYnJlID0gc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbbl0ubmFtZTsKICAgICAgICAgICAgICAgICAgICBkYXRhUmVmLm5vdGlfaW1hZ2VuZXNbbl0udXJsID0gc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXNbbl0udXJsOwogICAgICAgICAgICAgICAgICAgIG4rKzsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG4gPj0gc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGJSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignTm90aWNpYXMnKTsKICAgICAgICAgICAgICAgICAgICAgIGRiUmVmLmNoaWxkKHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQpLnNldChkYXRhUmVmKTsKICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgICAgICAgICAgICAgMTogJ1NlIGhhIGFjdHVhbGl6YWRvIGV4aXRvc2FtZW50ZScKICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNvbW1pdCgnc3VjY2Vzc0FkdmlzZScsIHN1Y2Nlc3MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaisrOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGRhdGFSZWYgPSB7CiAgICAgICAgICAgIG5vdGlfdGl0dWxvOiBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnRpdHVsbywKICAgICAgICAgICAgbm90aV9pbmZvOiBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmluZm8sCiAgICAgICAgICAgIG5vdGlfZmVjaGE6IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuZmVjaGEsCiAgICAgICAgICAgIG5vdGlfaWQ6IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQsCiAgICAgICAgICAgIG5vdGlfcHJldjogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5wcmV2LAogICAgICAgICAgICBub3RpX3B1YmxpY2FyOiB0cnVlLAogICAgICAgICAgICBub3RpX3NlY2Npb246IHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuc2VjY2lvbiwKICAgICAgICAgICAgbm90aV9pbWFnZW5lczogc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5pbWFnZXMKICAgICAgICAgIH07CiAgICAgICAgICB2YXIgZGJSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignTm90aWNpYXMnKTsKICAgICAgICAgIGRiUmVmLmNoaWxkKHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaWQpLnNldChkYXRhUmVmKTsKICAgICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9IGZhbHNlOwogICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB7CiAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgMTogJ1NlIGhhIGFjdHVhbGl6YWRvIGV4aXRvc2FtZW50ZScKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmNvbW1pdCgnc3VjY2Vzc0FkdmlzZScsIHN1Y2Nlc3MpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChzdGF0ZS5kZWxldGVDb250ZW50LmZvcm1VcGxvYWQudGlwbyA9PT0gdHJ1ZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgX3N0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCIvaW1hZ2VuZXMvbm90aWNpYXMvIi5jb25jYXQoc3RhdGUuZGVsZXRlQ29udGVudC5mb3JtVXBsb2FkLmlkKSk7CgogICAgICAgICAgX3N0b3JhZ2VSZWYubGlzdEFsbCgpLnRoZW4oZnVuY3Rpb24gKHByb20pIHsKICAgICAgICAgICAgcHJvbS5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgX3N0b3JhZ2VSZWYuY2hpbGQoZWxlbWVudC5uYW1lKS5kZWxldGUoKS50aGVuKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIk5vdGljaWFzLyIuY29uY2F0KHN0YXRlLmRlbGV0ZUNvbnRlbnQuZm9ybVVwbG9hZC5pZCkpLnJlbW92ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHN0YXRlLmRlbGV0aW5nVmFsID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZGVsZXRlQ29udGVudC5mb3JtVXBsb2FkLnRpcG8gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHsKICAgICAgICAgICAgICAgICAgICAgIDA6ICdzdWNjZXNzVXBsb2FkJywKICAgICAgICAgICAgICAgICAgICAgIDE6ICdTZSBoYSBlbGltaW5hZG8gZXhpdG9zYW1lbnRlJwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy5jb21taXQoJ3N1Y2Nlc3NBZHZpc2UnLCBzdWNjZXNzKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZpbGVzVXBsb2FkOiBmdW5jdGlvbiBmaWxlc1VwbG9hZChzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5mb3JtdGlwbyA9IGRhdGFbMl07CgogICAgICBpZiAoc3RhdGUuZm9ybXRpcG8gPT09IDApIHsKICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgdmFyIG1pbGlTZWMgPSBEYXRlLnBhcnNlKGQpOwogICAgICAgIHZhciBkU3RyaW5nID0gZC50b1N0cmluZygpOwogICAgICAgIHZhciBzcGxpdHRlZERhdGUgPSBkU3RyaW5nLnNwbGl0KCcgJyk7CiAgICAgICAgdmFyIGpvaW5lZERhdGUgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCA1OyBpKyspIHsKICAgICAgICAgIGpvaW5lZERhdGUucHVzaChzcGxpdHRlZERhdGVbaV0pOwogICAgICAgIH0KCiAgICAgICAgdmFyIGpvaW5lZCA9IGpvaW5lZERhdGUuam9pbignfCcpOwogICAgICAgIHN0YXRlLmNyZWF0ZUNvbnRlbnQuZm9ybVVwbG9hZC50aXBvID0gdHJ1ZTsKICAgICAgICBzdGF0ZS5jcmVhdGVDb250ZW50LmZvcm1VcGxvYWQuZmVjaGEgPSBqb2luZWQ7CiAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmltYWdlcyA9IGRhdGFbMF07CiAgICAgICAgc3RhdGUuY3JlYXRlQ29udGVudC5mb3JtVXBsb2FkLmlkID0gbWlsaVNlYzsKICAgICAgICB0aGlzLmNvbW1pdCgnaGFuZGxlVXBsb2FkJywgZGF0YVsxXSk7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuZm9ybXRpcG8gPT09IDEpIHsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnRpcG8gPSB0cnVlOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuZmVjaGEgPSBkYXRhWzBdLmZlY2hhOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW1hZ2VzID0gZGF0YVswXS5pbWFnZW5lczsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLmlkID0gZGF0YVswXS5pZDsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnRpdHVsbyA9IGRhdGFbMF0udGl0dWxvOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQuaW5mbyA9IGRhdGFbMF0uaW5mbzsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnByZXYgPSBkYXRhWzBdLnByZXY7CiAgICAgICAgc3RhdGUuZWRpdENvbnRlbnQuZm9ybVVwbG9hZC5zZWNjaW9uID0gZGF0YVswXS5zZWNjaW9uOwogICAgICAgIHN0YXRlLmVkaXRDb250ZW50LmZvcm1VcGxvYWQudXBsb2FkSW1hZ2VzID0gZGF0YVszXTsKICAgICAgICBzdGF0ZS5lZGl0Q29udGVudC5mb3JtVXBsb2FkLnVwbG9hZERhdGFCYXNlID0gZGF0YVs0XTsKICAgICAgICB0aGlzLmNvbW1pdCgnaGFuZGxlVXBsb2FkJywgZGF0YVsxXSk7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuZm9ybXRpcG8gPT09IDIpIHsKICAgICAgICBzdGF0ZS5kZWxldGVDb250ZW50LmZvcm1VcGxvYWQuaWQgPSBkYXRhWzBdOwogICAgICAgIHN0YXRlLmRlbGV0ZUNvbnRlbnQuZm9ybVVwbG9hZC50aXBvID0gdHJ1ZTsKICAgICAgICBzdGF0ZS5kZWxldGluZ1ZhbCA9IHRydWU7CiAgICAgICAgc3RhdGUuZGVsZXRpbmdJbmRleCA9IGRhdGFbM107CiAgICAgICAgdGhpcy5jb21taXQoJ2hhbmRsZVVwbG9hZCcsIGRhdGFbMV0pOwogICAgICB9CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBnZXREYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0RGF0YSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmLCB2YWwpIHsKICAgICAgICB2YXIgY29tbWl0LCBlcnJvciwgdHJ5QWdhaW4sIF9kYXRhLCBkYldlYiwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgZXJyb3IgPSAnJzsKICAgICAgICAgICAgICAgIHRyeUFnYWluID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCF0cnlBZ2FpbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vd2ViLWRhdGFiYXNlLTY2ODQyLmZpcmViYXNlaW8uY29tLy5qc29uIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9kYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBfZGF0YS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBkYldlYiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSU5URU5UTycpOwogICAgICAgICAgICAgICAgdmFsdWUgPSB7CiAgICAgICAgICAgICAgICAgIDA6IGRiV2ViLAogICAgICAgICAgICAgICAgICAxOiB2YWwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBjb21taXQoJ2RhdGFXZWInLCB2YWx1ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3InKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzQsIDE2XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXREYXRhKF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX2dldERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldERhdGE7CiAgICB9KCkKICB9LAogIG1vZHVsZXM6IHt9LAogIGdldHRlcnM6IHsKICAgIHVzZXJVcGRhdGU6IGZ1bmN0aW9uIHVzZXJVcGRhdGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["C:/WebProjects/Web-csp/web-csp/web-csp-files-laptop/src/store/index.js"],"names":["Vue","Vuex","firebase","data","use","Store","state","successUpload","deletingVal","loadEdit","deletingIndex","actUser","dbWeb","dpResponsive","headerView","formtipo","user","email","displayName","refUser","createContent","formUpload","titulo","info","prev","fecha","id","seccion","images","tipo","editContent","uploadImages","uploadDataBase","deleteContent","mutations","dataWeb","baseDatos","undefined","isResponsive","window","innerWidth","setUser","activo","apellido","autori","cargo","correo","correoVeri","fotoUrl","name","telefono","updateUser","value","auth","currentUser","updateProfile","then","valuesRef","uadmin_correo","uadmin_correoVeri","uadmin_nombre","uadmin_apellido","uadmin_autori","uadmin_fotoUrl","uadmin_telefono","uadmin_cargo","uadmin_id","uadmin_activo","dbRef","database","ref","child","set","commit","Object","values","success","dbUserVal","isUserDiff","i","length","deletedEl","resetContentValues","val","successAdvise","handleUpload","files","storageRef","percentage","order","task","j","m","n","forEach","element","storage","put","on","snapshot","blob_","data_","bytesTransferred","totalBytes","uploadPercentage","push","error","console","log","message","dataRef","noti_titulo","noti_info","noti_fecha","noti_id","noti_prev","noti_publicar","noti_seccion","noti_imagenes","getDownloadURL","url","nombre","listAll","prom","items","delete","err","remove","filesUpload","d","Date","miliSec","parse","dString","toString","splittedDate","split","joinedDate","joined","join","imagenes","actions","getData","tryAgain","fetch","json","modules","getters","userUpdate"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport firebase from 'firebase'\r\nimport { data } from 'jquery'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    successUpload: null,\r\n    deletingVal: null,\r\n    loadEdit: false,\r\n    deletingIndex: '',\r\n    actUser: null,\r\n    dbWeb:[],\r\n    dpResponsive: false,\r\n    headerView: 0,\r\n    formtipo: 0,\r\n    user: {\r\n      email: '',\r\n      displayName: ''\r\n    },\r\n    refUser: {},\r\n    createContent:{\r\n      formUpload: {\r\n        titulo: '',\r\n        info: '',\r\n        prev: '',\r\n        fecha: '',\r\n        id: '',\r\n        seccion: 'Seleccione una opción',\r\n        images: [],\r\n        tipo: false,\r\n      },\r\n    },\r\n    editContent:{\r\n      formUpload: {\r\n        titulo: '',\r\n        info: '',\r\n        prev: '',\r\n        fecha: '',\r\n        id: '',\r\n        seccion: '',\r\n        images: [],\r\n        tipo: false,\r\n        uploadImages: false,\r\n        uploadDataBase: false,\r\n      },\r\n    },\r\n    deleteContent:{\r\n      formUpload: {\r\n        id: '',\r\n        tipo: false,\r\n      },\r\n    },\r\n  },\r\n  mutations: {\r\n    dataWeb(state, baseDatos){\r\n      state.dbWeb = baseDatos[0]\r\n      if(baseDatos[1] !== undefined){\r\n        baseDatos[1] = true;\r\n      }\r\n    },\r\n    isResponsive(state){\r\n      if(window.innerWidth >= 768){\r\n        state.dpResponsive = false\r\n      }else if(window.innerWidth < 768){\r\n        state.dpResponsive = true\r\n      }\r\n    },\r\n    setUser(state, user){\r\n      state.user = {\r\n        activo: user[0],\r\n        apellido: user[1],\r\n        autori: user[2],\r\n        cargo: user[3],\r\n        correo: user[4],\r\n        correoVeri: user[5],\r\n        fotoUrl: user[6],\r\n        id: user[7],\r\n        name: user[8],\r\n        telefono: user[9],\r\n      }\r\n      state.refUser = {\r\n        activo: user[0],\r\n        apellido: user[1],\r\n        autori: user[2],\r\n        cargo: user[3],\r\n        correo: user[4],\r\n        correoVeri: user[5],\r\n        fotoUrl: user[6],\r\n        id: user[7],\r\n        name: user[8],\r\n        telefono: user[9],\r\n      }\r\n    },\r\n    updateUser(state, value){\r\n      const user = firebase.auth().currentUser;\r\n      if(user){\r\n        // Aqui debo poner el activador para el cargador\r\n        \r\n        user.updateProfile({\r\n          displayName: value.name,\r\n          email: value.correo\r\n        }).then(() =>{\r\n          const valuesRef = {\r\n            uadmin_correo: value.correo,\r\n            uadmin_correoVeri: value.correoVeri,\r\n            uadmin_nombre: value.name,\r\n            uadmin_apellido: value.apellido,\r\n            uadmin_autori: value.autori,\r\n            uadmin_fotoUrl: value.fotoUrl,\r\n            uadmin_telefono: value.telefono,\r\n            uadmin_cargo: value.cargo,\r\n            uadmin_id: value.id,\r\n            uadmin_activo: value.activo,\r\n          }\r\n          const dbRef = firebase.database().ref('Usuarios_admin');\r\n          dbRef.child(value.id).set(valuesRef).then(()=>{\r\n            // Aqui debo poner para quitar el cargador\r\n            this.commit('setUser', Object.values(value));\r\n            state.actUser = null;\r\n            const success = {\r\n              0: 'successUpload',\r\n              1: 'Se ha actualizado exitosamente'\r\n            };\r\n            this.commit('successAdvise', success);\r\n          })\r\n        })\r\n      }\r\n    },\r\n    dbUserVal(state, value){\r\n      if(value[0] === 0){\r\n        const valuesRef = {\r\n          uadmin_activo: true,\r\n          uadmin_correo: value[3],\r\n          uadmin_correoVeri: value[4],\r\n          uadmin_id: value[1],\r\n          uadmin_nombre: value[2],\r\n          uadmin_apellido: '',\r\n          uadmin_autori: '',\r\n          uadmin_fotoUrl: `${value[5]}`,\r\n          uadmin_telefono: `${value[6]}`,\r\n          uadmin_cargo: '',\r\n        }\r\n        const dbRef = firebase.database().ref('Usuarios_admin');\r\n        dbRef.child(valuesRef.uadmin_id).set(valuesRef).then(()=>{\r\n          this.commit('setUser', Object.values(valuesRef));\r\n        })\r\n      }\r\n    },\r\n    isUserDiff(state){\r\n      for(let i = 0; i < Object.values(state.user).length; i++){\r\n        if(Object.values(state.user)[i] !== Object.values(state.refUser)[i]){\r\n          state.actUser = true;\r\n          return this.commit('updateUser', state.user);\r\n        }\r\n      }\r\n    },\r\n    deletedEl(state, value){\r\n      if(value[0] === 0){\r\n        state.deletingVal = value[1];\r\n      }\r\n      if(value[0] === 1){\r\n        state.deletingIndex = value[1];\r\n      }\r\n    },\r\n    resetContentValues(state, val){\r\n      if(val === 0){\r\n        state.createContent.formUpload.titulo = '';\r\n        state.createContent.formUpload.info = '';\r\n        state.createContent.formUpload.prev = '';\r\n        state.createContent.formUpload.images = [];\r\n        state.createContent.formUpload.fecha = '';\r\n        state.createContent.formUpload.id = '';\r\n        state.createContent.formUpload.seccion = 'Seleccione una opción';\r\n      }else if(val === 1){\r\n        state.editContent.formUpload.titulo = '';\r\n        state.editContent.formUpload.info = '';\r\n        state.editContent.formUpload.prev = '';\r\n        state.editContent.formUpload.images = [];\r\n        state.editContent.formUpload.fecha = '';\r\n        state.editContent.formUpload.id = '';\r\n        state.editContent.formUpload.seccion = 'Todas las secciones';\r\n      }\r\n    },\r\n    successAdvise(state, data){\r\n      state[`${data[0]}`] = data[1]\r\n    },\r\n    handleUpload(state, files){\r\n\r\n      let storageRef = [];\r\n      let percentage = [];\r\n      let order = [];\r\n      let task = {};\r\n      let i = 0;\r\n      let j = 0;\r\n      let m = 0;\r\n      let n = 0;\r\n\r\n      if(state.createContent.formUpload.tipo === true){\r\n        files.forEach(element => {\r\n          storageRef= firebase.storage().ref(`/imagenes/noticias/${state.createContent.formUpload.id}/foto${element.id}`);\r\n          task[i] = storageRef.put(element);\r\n          i++;\r\n        })\r\n  \r\n        for(let i = 0; i < files.length; i++){\r\n          task[i].on('state_changed', snapshot => {\r\n            percentage[snapshot.task.blob_.data_.id] = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            state.createContent.formUpload.images[snapshot.task.blob_.data_.id].uploadPercentage = percentage[snapshot.task.blob_.data_.id];\r\n            m ++;\r\n            if(state.createContent.formUpload.images[snapshot.task.blob_.data_.id].uploadPercentage === 100 && order.length < files.length){\r\n              order.push(snapshot.task.blob_.data_.id)\r\n            }\r\n          }, error => {\r\n            console.log(error.message);\r\n          }, () =>{\r\n            let dataRef = {\r\n              noti_titulo: state.createContent.formUpload.titulo,\r\n              noti_info: state.createContent.formUpload.info,\r\n              noti_fecha: state.createContent.formUpload.fecha,\r\n              noti_id: state.createContent.formUpload.id,\r\n              noti_prev: state.createContent.formUpload.prev,\r\n              noti_publicar: true,\r\n              noti_seccion: state.createContent.formUpload.seccion,\r\n              noti_imagenes: [],\r\n            }\r\n            let storageRef = firebase.storage().ref(`/imagenes/noticias/${state.createContent.formUpload.id}/foto${order[j]}`);\r\n            storageRef.getDownloadURL().then(url => {\r\n              let val = order[n];\r\n              state.createContent.formUpload.images[val].url = url;\r\n              state.createContent.formUpload.images[val].name = `foto${val}`;\r\n              n ++;\r\n              if(n >= state.createContent.formUpload.images.length){\r\n                n = 0;\r\n                state.createContent.formUpload.images.forEach(element => {\r\n                  dataRef.noti_imagenes.push({});\r\n                  dataRef.noti_imagenes[n].nombre = state.createContent.formUpload.images[n].name;\r\n                  dataRef.noti_imagenes[n].url = state.createContent.formUpload.images[n].url;\r\n                  n ++;\r\n                  if(n >= state.createContent.formUpload.images.length){\r\n                    const dbRef = firebase.database().ref('Noticias');\r\n                    dbRef.child(state.createContent.formUpload.id).set(dataRef);\r\n                    state.createContent.formUpload.tipo = false;\r\n                    const success = {\r\n                      0: 'successUpload',\r\n                      1: 'Se ha creado exitosamente'\r\n                    }\r\n                    this.commit('successAdvise', success)\r\n                  }\r\n                })\r\n              }\r\n            })\r\n            j ++;\r\n          })\r\n        }\r\n      }else if(state.editContent.formUpload.tipo === true){\r\n\r\n        if(state.editContent.formUpload.uploadImages === true){\r\n          files.forEach(element => {\r\n            storageRef= firebase.storage().ref(`/imagenes/noticias/${state.editContent.formUpload.id}/foto${element.id}`);\r\n            task[i] = storageRef.put(element);\r\n            i++;\r\n          })\r\n\r\n          for(let i = 0; i < files.length; i++){\r\n            task[i].on('state_changed', snapshot => {\r\n              percentage[snapshot.task.blob_.data_.id] = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n              state.editContent.formUpload.images[snapshot.task.blob_.data_.id].uploadPercentage = percentage[snapshot.task.blob_.data_.id];;\r\n              m ++;\r\n              if(state.editContent.formUpload.images[snapshot.task.blob_.data_.id].uploadPercentage === 100 && order.length < files.length){\r\n                order.push(snapshot.task.blob_.data_.id)\r\n              }\r\n            }, error => {\r\n              console.log(error.message);\r\n            }, () =>{\r\n              let dataRef = {\r\n                noti_titulo: state.editContent.formUpload.titulo,\r\n                noti_info: state.editContent.formUpload.info,\r\n                noti_fecha: state.editContent.formUpload.fecha,\r\n                noti_id: state.editContent.formUpload.id,\r\n                noti_prev: state.editContent.formUpload.prev,\r\n                noti_publicar: true,\r\n                noti_seccion: state.editContent.formUpload.seccion,\r\n                noti_imagenes: [],\r\n              }\r\n              let storageRef = firebase.storage().ref(`/imagenes/noticias/${state.editContent.formUpload.id}/foto${order[j]}`);\r\n              storageRef.getDownloadURL().then(url => {\r\n                let val = order[n];\r\n                state.editContent.formUpload.images[val].url = url;\r\n                state.editContent.formUpload.images[val].name = `foto${val}`;\r\n                n ++;\r\n                if(n >= state.editContent.formUpload.images.length){\r\n                  n = 0;\r\n                  state.editContent.formUpload.images.forEach(element => {\r\n                    dataRef.noti_imagenes.push({});\r\n                    dataRef.noti_imagenes[n].nombre = state.editContent.formUpload.images[n].name;\r\n                    dataRef.noti_imagenes[n].url = state.editContent.formUpload.images[n].url;\r\n                    n ++;\r\n                    if(n >= state.editContent.formUpload.images.length){\r\n                      const dbRef = firebase.database().ref('Noticias');\r\n                      dbRef.child(state.editContent.formUpload.id).set(dataRef);\r\n                      state.editContent.formUpload.tipo = false;\r\n                      const success = {\r\n                        0: 'successUpload',\r\n                        1: 'Se ha actualizado exitosamente'\r\n                      }\r\n                      this.commit('successAdvise', success)\r\n                    }\r\n                  })\r\n                }\r\n              })\r\n              j ++;\r\n            })\r\n          }\r\n        }else{\r\n          let dataRef = {\r\n            noti_titulo: state.editContent.formUpload.titulo,\r\n            noti_info: state.editContent.formUpload.info,\r\n            noti_fecha: state.editContent.formUpload.fecha,\r\n            noti_id: state.editContent.formUpload.id,\r\n            noti_prev: state.editContent.formUpload.prev,\r\n            noti_publicar: true,\r\n            noti_seccion: state.editContent.formUpload.seccion,\r\n            noti_imagenes: state.editContent.formUpload.images,\r\n          }\r\n          const dbRef = firebase.database().ref('Noticias');\r\n          dbRef.child(state.editContent.formUpload.id).set(dataRef);\r\n          state.editContent.formUpload.tipo = false;\r\n          const success = {\r\n            0: 'successUpload',\r\n            1: 'Se ha actualizado exitosamente'\r\n          }\r\n          this.commit('successAdvise', success)\r\n        }\r\n      }else if(state.deleteContent.formUpload.tipo === true){\r\n        try{\r\n          let storageRef = firebase.storage().ref(`/imagenes/noticias/${state.deleteContent.formUpload.id}`)\r\n          storageRef.listAll().then(prom => {\r\n            prom.items.forEach(element => {\r\n              storageRef.child(element.name).delete().then( err => {\r\n                if(err !== undefined){\r\n                  console.log(err)\r\n                }else{\r\n                  firebase.database().ref(`Noticias/${state.deleteContent.formUpload.id}`).remove().then(()=>{\r\n                      state.deletingVal = false;\r\n                      state.deleteContent.formUpload.tipo = false;\r\n                      const success = {\r\n                        0: 'successUpload',\r\n                        1: 'Se ha eliminado exitosamente'\r\n                      }\r\n                      this.commit('successAdvise', success)\r\n                    }\r\n                  )\r\n                }\r\n              })\r\n            });\r\n          })\r\n        }catch(err){console.log(err)}\r\n      }\r\n    },\r\n    filesUpload(state, data){\r\n\r\n      state.formtipo = data[2]\r\n\r\n      if(state.formtipo === 0){\r\n        let d = new Date();\r\n        const miliSec = Date.parse(d);\r\n        let dString = d.toString();\r\n        const splittedDate = dString.split(' ');\r\n        const joinedDate = [];\r\n        for(let i = 1; i < 5; i++){\r\n          joinedDate.push(splittedDate[i]);\r\n        }\r\n        const joined = joinedDate.join('|');\r\n        \r\n        state.createContent.formUpload.tipo = true\r\n        state.createContent.formUpload.fecha = joined;\r\n        state.createContent.formUpload.images = data[0];\r\n        state.createContent.formUpload.id = miliSec;\r\n  \r\n        this.commit('handleUpload', data[1])\r\n      }else if(state.formtipo === 1){\r\n        state.editContent.formUpload.tipo = true;\r\n        state.editContent.formUpload.fecha = data[0].fecha;\r\n        state.editContent.formUpload.images = data[0].imagenes;\r\n        state.editContent.formUpload.id = data[0].id;\r\n        state.editContent.formUpload.titulo = data[0].titulo;\r\n        state.editContent.formUpload.info = data[0].info;\r\n        state.editContent.formUpload.prev = data[0].prev;\r\n        state.editContent.formUpload.seccion = data[0].seccion;\r\n        state.editContent.formUpload.uploadImages = data[3];\r\n        state.editContent.formUpload.uploadDataBase = data[4];\r\n  \r\n        this.commit('handleUpload', data[1])\r\n      }else if(state.formtipo === 2){\r\n        state.deleteContent.formUpload.id = data[0];\r\n        state.deleteContent.formUpload.tipo = true;\r\n        state.deletingVal = true;\r\n        state.deletingIndex = data[3];\r\n\r\n        this.commit('handleUpload', data[1])\r\n      }\r\n      \r\n    },\r\n  },\r\n  actions: {\r\n    getData: async function({commit}, val){\r\n      let error = '';\r\n      let tryAgain = true;\r\n      while(tryAgain){\r\n        try{\r\n          const data = await fetch(\"https://web-database-66842.firebaseio.com/.json\");\r\n          const dbWeb = await data.json();\r\n          console.log('INTENTO');\r\n          const value = {\r\n            0: dbWeb,\r\n            1: val,\r\n          }\r\n          commit('dataWeb', value)\r\n        }catch(err){\r\n          console.log('Error');\r\n        }\r\n      }\r\n    },\r\n  },\r\n  modules: {\r\n  },\r\n  getters: {\r\n    userUpdate: state => {\r\n      return state.user;\r\n    },\r\n  }\r\n})\r\n"]}]}